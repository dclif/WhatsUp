{"version":3,"sources":["service/firebase.js","context/AuthContext.js","components/App/App.js","images/empty.png","components/Chat/ChatList/ChatCard.js","components/Chat/ChatFeed/ChatHeader.js","components/Chat/ChatFeed/IsTyping.js","components/Chat/ChatSettings/ChatSettingsBox.js","components/Chat/ChatList/NewChatForm.js","components/Chat/ChatFeed/NewMessageForm/Thumbnail.js","components/Chat/ChatFeed/NewMessageForm/FileRow.js","components/Chat/ChatFeed/NewMessageForm/ImagesInput.js","components/Chat/ChatFeed/NewMessageForm/MessageInput.js","components/Chat/ChatFeed/NewMessageForm/NewMessageForm.js","images/send.png","components/Chat/ChatFeed/Bubble/DatePartition.js","components/Chat/ChatFeed/Bubble/file.js","components/Chat/ChatFeed/Bubble/Thumbnail.js","components/Chat/ChatFeed/Bubble/FileView.js","components/Chat/ChatFeed/Bubble/dot.js","components/Chat/ChatFeed/Bubble/Body.js","components/Chat/ChatFeed/Bubble/MyMessage.js","components/Chat/ChatFeed/Bubble/TheirMessage.js","components/Chat/ChatFeed/Bubble/SendingMessage.js","components/Chat/ChatFeed/Bubble/MessageBubble.js","images/loading.svg","components/Chat/ChatList/ChatAvatar.js","components/Chat/ChatList/EditProfile.js","components/Chat/ChatList/UserStatus.js","components/Chat/ChatList/ChatProfile.js","images/chatlogo.png","components/Chat/ChatList/ChatList.js","components/Chat/Chat.js","components/Login/formikConfig.js","components/Login/Login.js","components/Signup/formikConfig.js","components/Signup/Signup.js","components/FormField/FormField.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","error","test","message","console","stack","fb","auth","storage","firestore","googleProvider","GoogleAuthProvider","facebookProvider","FacebookAuthProvider","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","loading","setLoading","userObject","setUserObject","convertedName","setConvertedName","history","useHistory","lowerLetters","str","toLowerCase","useEffect","onAuthStateChanged","user","displayName","email","substring","lastIndexOf","push","encodeURIComponent","value","Provider","App","mainComponent","setMainComponent","className","path","component","Login","exact","Chat","Signup","styles","chatContainer","padding","paddingBottom","cursor","titleText","fontWeight","whiteSpace","overflow","status","width","height","borderRadius","border","position","top","messageText","color","fontSize","display","activeChat","backgroundColor","ChatCard","props","ChatEngineContext","conn","setActiveChat","chat","extraStyle","id","otherPerson","people","find","person","username","userName","convertedUsername","title","lower","replace","match","toUpperCase","capitalize","decodeURIComponent","lastMessage","last_message","text","attachments","length","onClick","style","avatar","is_online","src","empty","alt","created","date","convertedDate","year","substr","month","day","hour","minute","second","d","Date","offset","getTimezoneOffset","setHours","getHours","getDateTime","sent","toString","dayStr","timeStr","someDate","today","getDate","getMonth","getFullYear","isToday","timeSinceDate","readLastMessage","map","chat_person","last_read","marginTop","marginLeft","setConfiguration","maxScreenClass","gutterWidth","ChatHeader","chats","userStatus","first_name","titleSection","MenuOutlined","document","querySelector","xs","sm","titleContainer","subtitleText","zIndex","fontFamily","mobileOptiom","textAlign","IsTyping","didMountRef","useRef","now","currentTime","setCurrentTime","typingCounter","typers","current","setInterval","Object","keys","index","paddingLeft","ChatSettingsBox","NewChatForm","setUsername","newChatError","setNewChatError","createDirectChat","creds","newName","setTimeout","myHeaders","Headers","append","fetch","method","headers","redirect","then","response","json","data","some","x","getOrCreateChat","is_direct_chat","usernames","onSubmit","e","preventDefault","alert","placeholder","onChange","target","required","PlusOutlined","Thumbnail","hovered","setHovered","blob","setBlob","URL","createObjectURL","file","onMouseEnter","onMouseLeave","imageSquare","name","CloseCircleTwoTone","closeIcon","onRemove","objectFit","bottom","left","FileRow","files","ImagesInput","state","setState","encType","htmlFor","PaperClipOutlined","right","accept","visibility","type","event","Array","from","onSelectFiles","onSelect","MessageInput","focused","textarea","getElementById","Math","min","scrollHeight","this","resize","handleChange","key","input","overflowY","rows","label","onBlur","onFocus","onKeyDown","maxLength","Component","outline","paddingRight","overflowX","NewMessageForm","trigger","mod","handleSubmit","trim","custom_json","sender_id","sender_username","senderUsername","sendMessage","NewMessageFormContainer","i","splice","bind","inputContainer","isTyping","icon","minHeight","paddingTop","options","weekday","formatTime","dateTime","time","toLocaleString","split","slice","formatDate","DatePartition","lastCreated","lastDate","thisDate","dateText","images","isImage","fileName","dotSplit","indexOf","getFileName","fileUrl","slashSplit","attachment","thumbnail","window","open","loadingContainer","LoadingOutlined","marginRight","marginBottom","maxHeight","maxWidth","minWidth","FileView","fileView","FileOutlined","Dot","updateImg","customStyle","dot","backgroundImage","backgroundRepeat","backgroundPosition","backgroundSize","Body","replaceAll","myMessage","dangerouslySetInnerHTML","__html","Message","nextMessage","topRightRadius","bottomRightRadius","renderImages","renderFiles","md","chatPerson","float","renderReads","overflowWrap","TheirMessage","topLeftRadius","bottomLeftRadius","nameText","show_online","sender","theirMessage","reconnectID","SendingMessage","setConnecting","clearInterval","sending","MyMessage","ChatAvatar","close","crop","userstatus","imageSrc","setImageSrc","cropRef","newUsername","newStatus","fr","FileReader","onload","result","readAsDataURL","ref","image","Image","size","canvas","getImageScaledToCanvas","toDataURL","res","EditProfile","setNewStatus","UserStatus","setUserStatusAvailable","editing","setEditing","currentStatus","setCurrentStatus","uid","formdata","FormData","body","updateProfile","CloseOutlined","EditOutlined","ChatProfile","avatarURL","setAvatarURL","setUserStatus","inputRef","setImage","avatarState","setAvatarState","statusState","setStatusState","avatarVisibility","setAvatarVisibility","userSecret","onFileAttach","header","mode","croppedImage","updateAv","IconGroup","click","loadingAnimation","Icon","corner","inverted","circular","Loader","active","chatListContainer","chatsContainer","ChatList","hasMoreChats","setHasMoreChats","editingProfile","setEditingProfile","chatLogo","logoSource","setLogoSource","theme","setTheme","setChats","WhatsUpState","secret","sortChats","sort","a","b","aDate","bDate","onGetChats","chatList","oldChats","newChats","_","mapKeys","allChats","themeValue","localStorage","getItem","classList","add","chatlogo","remove","setItem","getLatestChats","values","screen","availWidth","UserOutlined","BgColorsOutlined","href","GithubOutlined","DeleteOutlined","confirm","chatID","firstUser","secondUser","log","catch","deleteActiveChat","LogoutOutlined","signOut","renderNewChatForm","onClose","undefined","renderChatCard","renderChats","newAccountStatus","setNewAccountStatus","chatHeight","setChatHeight","config","url","axios","otherName","raw","JSON","stringify","contentType","addDefaultChat","projectID","renderChatList","renderChatHeader","renderIsTyping","renderChatSettings","renderNewMessageForm","chatId","renderMessageBubble","MessageBubble","defaultValues","password","validationSchema","Yup","shape","serverError","setServerError","login","setSubmitting","signInWithEmailAndPassword","err","code","finally","WhatsAppOutlined","validateOnMount","initialValues","isValid","isSubmitting","LockOutlined","signInWithRedirect","GoogleOutlined","FacebookOutlined","verifyPassword","oneOf","matches","max","createUserWithEmailAndPassword","FormField","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.d94b1334.chunk.js","sourcesContent":["import firebase from 'firebase/app'\nimport 'firebase/auth';\nimport 'firebase/storage';\nimport 'firebase/firestore';\n\ntry {\n    firebase.initializeApp({\n\n        apiKey: process.env.REACT_APP_API_KEY,\n        authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n        projectId: process.env.REACT_APP_PROJECT_ID,\n        storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n        messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n        appId: process.env.REACT_APP_APP_ID\n    });\n} catch (error) {\n    if (!/already exists/u.test(error.message)) {\n        console.error('firebase admin init error', error.stack);\n    }\n}\n\nexport const fb = {\n    auth: firebase.auth(),\n    storage: firebase.storage(),\n    firestore: firebase.firestore()\n}\nexport const googleProvider = new firebase.auth.GoogleAuthProvider();\nexport const facebookProvider = new firebase.auth.FacebookAuthProvider();","import React, { useContext, useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { fb } from \"service\";\n\nconst AuthContext = React.createContext();\n\nexport const useAuth = () => useContext(AuthContext);\n\nexport const AuthProvider = ({ children }) => {\n    const [loading, setLoading] = useState(true);\n    const [userObject, setUserObject] = useState({});\n    const [convertedName, setConvertedName] = useState();\n    const history = useHistory();\n\n    function lowerLetters(str) {\n        return str.toLowerCase();\n    }\n\n    useEffect(() => {\n        fb.auth.onAuthStateChanged((user) => {\n            if (user && user.displayName == null) {\n                //For logging in with custom account\n                setUserObject(user);\n                setConvertedName(\n                    lowerLetters(user.email.substring(0, user.email.lastIndexOf(\"@\")))\n                );\n                setLoading(false);\n                history.push(\"/whatsup/\");\n            } else if (user && user.displayName !== null) {\n                //For logging in with gmail/fb account\n                setUserObject(user);\n                setConvertedName(encodeURIComponent(lowerLetters(user.displayName)));\n                setLoading(false);\n                history.push(\"/whatsup/\");\n            } else {\n                setUserObject(null);\n                history.push(\"/whatsup\");\n                setLoading(false);\n            }\n        });\n    }, [ history]);\n\n    const value = { userObject, convertedName };\n\n    return (\n        <AuthContext.Provider value={value}>\n            {!loading && children}\n        </AuthContext.Provider>\n    );\n};\n","import { Route, Switch } from 'react-router-dom';\nimport { Login, Signup, Chat } from 'components';\nimport { AuthProvider } from 'context/AuthContext.js';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport React, { useEffect, useState } from \"react\";\nimport { fb } from \"service\";\n\nexport const App = () => {\n\n    const [mainComponent, setMainComponent] = useState(\"login\")\n\n    useEffect(() => {\n    // This hook needs to be here because  GH Pages doesn't allow subdirectories on default,\n    // making app unable to refresh on subdomain. So normally there is no need for conditional routes rendering\n        fb.auth.onAuthStateChanged((user) => {\n            if (user && user.displayName == null) {\n                setMainComponent(\"chat\")\n            } else if (user && user.displayName !== null) {\n                setMainComponent(\"chat\")\n            } else {\n                setMainComponent(\"login\")\n            }\n        });\n    }, []);\n\n    return (\n        <div className=\"app\">\n            <Router>\n                <AuthProvider>\n                    <Switch>\n                        {(mainComponent === \"login\") ?\n                            <Route path=\"/whatsup/\" component={Login} /> :\n                            <Route exact path=\"/whatsup/\" component={Chat} />}\n\n                        <Route path=\"/signup\" component={Signup} />\n                    </Switch>\n                </AuthProvider>\n            </Router>\n        </div>\n    )\n}","export default \"data:image/png;base64,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czpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgeG1sbnM6R0lNUD0iaHR0cDovL3d3dy5naW1wLm9yZy94bXAvIgogICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgIHhtcE1NOkRvY3VtZW50SUQ9ImdpbXA6ZG9jaWQ6Z2ltcDpiMzg1YmEyYi0yN2Y3LTRmNDMtOTBlMi1jYWExYWMxNjdjYmIiCiAgIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MmM3ZTFlMDYtODcyYS00OTNiLWEyM2QtZTU2NzFmMzY2OGI1IgogICB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NGJkYWRlY2EtYTE5Ni00ZGI4LWFmZTgtZjVlMWNlMzg1NTI5IgogICBkYzpGb3JtYXQ9ImltYWdlL3BuZyIKICAgR0lNUDpBUEk9IjIuMCIKICAgR0lNUDpQbGF0Zm9ybT0iV2luZG93cyIKICAgR0lNUDpUaW1lU3RhbXA9IjE2MjU4MDA0MjU5ODU0OTgiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4yNCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDplMjlmYWQwMi05YWIyLTQxNzctOGE2NS0xYzFiODgyNTdkODUiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoV2luZG93cykiCiAgICAgIHN0RXZ0OndoZW49IjIwMjEtMDctMDlUMDU6MTM6NDUiLz4KICAgIDwvcmRmOlNlcT4KICAgPC94bXBNTTpIaXN0b3J5PgogIDwvcmRmOkRlc2NyaXB0aW9uPgogPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+7sjJCgAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+UHCQMNLbdCL2oAAAYLSURBVHja7d0xa+NIGIDhuVNkBKpUGQxutjIY/P/b/IWAQVUagyGVKoPxYvaKw7nkdu/iZD1jjeZ5qlyzl9h+Nd9MIvuPx8fHHwG4uT89BCAuEBcgLhAXiAsQF4gLxAWIC8QF4gLEBeICcQHiAnGBuABxgbhAXIC4QFwgLkBcIC4QFyAuEBeICxAXiAvEBYgLxAXiAsQF4gJxAeICccEUPXgIxqeu69evq6p69/X5fH7978vX379/96CJi1+FVFVVqKoqzOfz0HXdl/+tYRjCy8tLOJ/P4Xw+i05cZca0WCx+K6Rf6brup3+z7/twPp/D8Xj04ItrmpqmiRLUR1ar1bvQTqeTFU1c09C27bsX+D1dvo9hGMJ+v7eaiUtUt3YZH4dhCLvdzkomrnz2VMvlMvn49zuR9X0fDoeDJ09c495Xrdfr7L7v1WplFYvAL5FvOAbmGNbbVWyz2bz7HRvisr+6IYGJS1gCE9fU91hTC0tg4rq7uq6z3mNdY7lceqLF5YUXQ9d1oWkaT7a40o6DOfwe6xbW67XxUFxpX3Almc1mnnRxxde2bXE/82q1snqJK80LrURWL3FF32u5qCCuCBaLhYsL4rq1uq6LOSF0cRFXUm/fKKZUpV9cxCWu6Cs44rKhd5ERl6u1fZe4AHEZheJwqCEucRmTxQXiKth8PvcgIC6MyeICcQHiAnGBuAghvLy8eBDeePvRsYgLxAXiMgYVy8cMiUtcEQzD4EEQF4jLGJQRJ6fiMg4ZkcXlii2uqfKB4x+43BjoRfXzY2JcFteXffv2zW3t/7LZbF6/3m634Xg8elCMhZ/Ttq2wPuCzu8T1pbHH+xRex6efiOtT3Gl7PRchcYkr8kqPuK7iDWlcjMQF4sqLU0Irl7hAXCAuQFwgruy4veRz/FGzuBCXuO5tv997EBCXK/H9R2j3dYnral4sVnlxRbTdbj0IV3CzpLi+9KJxaugCJK5IdrudB+E/9H1v1RLX7+29np6erGC/COtwOHggPuANaq4I7Pn5ObRtG+bzedF/MT8MQ9jtdg58xHVbh8MhPD8/h7quQ1VVYb1eF/OzPz09CcpYmGYl8zMjrkj8khlxcZN9FuIiAu+RLy57EMRlXLK/FBf/q5Q/WBWXuLzoIq3ORmBx2XdF4DBDXHfT9/2kf77T6eRJFpcXn5FQXJMbDae6erndRlxWL6uWuKxeVi1x8WmHw2Eyv1Tu+96qJS5X+xjjoDuMxTXK8TDnN2y53GWMuEbpeDxmG5jb98UlsAgrltv4xZVVYLmcIFqxxAXiAsQF4gJxAeICcYG4AHGBuEBcgLhAXCAuQFwgrpw1TRPm83kW3+tsNgt1XXvSIvCB4zeOarFYhK7rsvmeV6tVCOGf99Bw46S4RqOu6zCbzV5fpLnqui50XReGYQj7/T4cj0dPrrjuF9VyucxqlfpMZCH8/R6Gp9PJaiYuo1+skVFk4jL6JdiXGRnFJaoEI6N35xWX0c/IKC6rlJFRXFYpPhgZrWaFxmWVspqJK0JUU/zdlNVMXFYpq1lRq9lk47KXspqJS1DFr2ZTDS37uIx9xkZxWaUobGzMLq62ba1SVjNxiYpbrma5RfYgKnKMLIe7ph9EhcgKiatpmrBer72CyD6yB1EhsonG5e/9uHVkY7mR80FUTM1lr77dbu96sniXuBxWkMJlm3GvyB5ERQmR3WM/luztrJumERZ33Y9tNpuk/0/vFU9RUr4vfrK4qqryzFKUZHHl8qkfTFvKi3yyuBy5I67M51wobiyEMUi5PUkSl8MMxiLl9kRcFCfVNsVYCDnH5RieMUk1SSWJyzE84sp4voWxTVL2XJBrXE4KGZtU2xRxUaQU25XocTkpZIxSXPTtuSDXuBzDY+XKdK6FsW5XjIUUKcVEFTUuJ4XYc4mLAsXetkSNyzE8Yxb74h81LieFGAvBypVPXI7hGbvY25ZocTnMYOxib1uMhRQt5oRl5YLc4nIMTw5iLgLR4nIMj7gym2Oh+LEQchBz+xIlLocZ5CLm9kVcFC/WNsZYCDmtXI7hyUmsSStKXI7hEVcIfwE3vW4pmErq7wAAAABJRU5ErkJggg==\"","import React, { useContext } from \"react\";\nimport { ChatEngineContext } from \"react-chat-engine\";\nimport _ from \"lodash\";\nimport empty from \"../../../images/empty.png\";\nimport { Avatar } from 'react-chat-engine'\n\nexport const ChatCard = (props) => {\n    const { conn, activeChat, setActiveChat } = useContext(ChatEngineContext);\n    const { chat } = props;\n\n    const capitalize = (str, lower = true) => {\n        return (lower ? str.toLowerCase() : str).replace(\n            /(?:^|\\s|[\"'([{])+\\S/g,\n            (match) => match.toUpperCase()\n        );\n    };\n\n    if (!conn || conn === null) return <div />;\n    if (!chat) return <div />;\n\n    \n\n    function readLastMessage(chat) {\n        let readLastMessage = true;\n        chat.people.map((chat_person) => {\n            if (conn.userName === chat_person.person.username) {\n                readLastMessage = chat.last_message.id === chat_person.last_read;\n            }\n            return \"\"\n        });\n        return readLastMessage;\n    }\n\n    const extraStyle = activeChat === chat.id ? styles.activeChat : {};\n    const otherPerson = chat.people.find(\n        (person) => person.person.username !== conn.userName\n    );\n    const convertedUsername = otherPerson ? otherPerson.person.username : \"\";\n    const title = otherPerson\n        ? capitalize(decodeURIComponent(convertedUsername))\n        : \"\";\n\n    let lastMessage = chat.last_message.text;\n    if (!lastMessage) {\n        lastMessage =\n            chat.last_message.attachments.length > 0\n                ? `${chat.last_message.attachments.length} image${chat.last_message.attachments.length > 1 ? \"s\" : \"\"\n                }`\n                : \"Say hello!\";\n    }\n    const isToday = (someDate) => {\n        const today = new Date()\n        return someDate.getDate() === today.getDate() &&\n            someDate.getMonth() === today.getMonth() &&\n            someDate.getFullYear() === today.getFullYear()\n    }\n    function getDateTime(date) {\n        if (!date) return ''\n        date = date.replace(' ', 'T')\n        const year = date.substr(0, 4)\n        const month = date.substr(5, 2)\n        const day = date.substr(8, 2)\n        const hour = date.substr(11, 2)\n        const minute = date.substr(14, 2)\n        const second = date.substr(17, 2)\n        var d = new Date(`${year}-${month}-${day}T${hour}:${minute}:${second}`)\n        let offset = (-(d.getTimezoneOffset()) / 60)\n        d.setHours(d.getHours() + offset)\n        return d\n    }\n    function timeSinceDate(date) {\n        if (!date) return ''\n        let convertedDate = getDateTime(date)\n        let sent = convertedDate.toString()\n        const dayStr = sent.substr(3, 7)\n        const timeStr = sent.substr(15, 6)\n        if (isToday(convertedDate)) {\n            return timeStr\n        } else {\n            return dayStr\n        }\n\n\n    }\n\n    return (\n        <div\n            onClick={() => setActiveChat(chat.id)}\n            style={{ ...styles.chatContainer, ...extraStyle }}\n            className={`ce-chat-card ${activeChat === chat.id && \"ce-active-chat-card\"\n                }`}\n        >\n            {otherPerson && otherPerson.person.avatar ? (\n                <div className=\"avatar-online\">\n\n                    <Avatar\n                        avatar={otherPerson.person.avatar ? otherPerson.person.avatar : \"\"}\n                        username={otherPerson.person.username}\n                        is_online={otherPerson.person.is_online}\n                    />\n                </div>\n            ) : (\n                <div className=\"avatar-online\">\n                    <div\n                        className='ce-avatar-status'\n                        style={{\n                            ...styles.status,\n                            ...{ backgroundColor: otherPerson && otherPerson.person.is_online ? '#52c41a' : '#f5222d' }\n                        }}\n                    />\n                    <img\n                        src={empty}\n                        className=\"chat-card-avatar\"\n                        style={{ borderRadius: \"50%\", width: \"40px\" }}\n                        alt=\"\"\n                    />\n\n                </div>\n\n            )}\n\n            <div className=\"chat-card-info\">\n                <div\n                    style={styles.titleText}\n                    className=\"ce-chat-title-text\"\n                    id={`ce-chat-card-title-${title}`}\n                >\n                    {title}\n                </div>\n\n                <div style={{ width: \"100%\" }} className=\"ce-chat-subtitle\">\n                    <div\n                        style={styles.messageText}\n                        className=\"ce-chat-subtitle-text ce-chat-subtitle-message\"\n                    >\n              {(conn.userName === \"Dan\") ? \"Say Hello\" : lastMessage   }                        \n                        \n                    </div>\n\n\n                </div>\n            </div>\n            <div className=\"chat-card-activity\">\n                <div className=\"chat-card-activity-time\">\n                    {\n                        chat.last_message.created && chat.last_message.created.length > 0 ?\n                            `${timeSinceDate(chat.last_message.created)}` :\n                            ''\n                    }\n\n                </div>\n                {!readLastMessage(chat) && (\n                    <div\n                        className=\"ce-chat-unread-dot\"\n                        style={{\n                            width: \"12px\",\n                            height: \"12px\",\n                            borderRadius: \"6px\",\n                            backgroundColor: \"var(--own-msg-color)\",\n                            display: \"inline-block\",\n                            marginTop: '15px',\n                            marginLeft: '10px'\n                        }}\n                    />\n                )}\n\n            </div>\n        </div>\n    );\n};\n\nconst styles = {\n    chatContainer: {\n        padding: \"16px\",\n        paddingBottom: \"12px\",\n        cursor: \"pointer\",\n    },\n    titleText: {\n        fontWeight: \"500\",\n        paddingBottom: \"4px\",\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n    },\n    status: {\n        width: '8px',\n        height: '8px',\n        borderRadius: '100%',\n        border: '2px solid #d3d8e4de',\n        position: 'absolute',\n        top: '35px'\n    },\n    messageText: {\n        width: \"100%\",\n        color: \"var(--gray-text)\",\n        fontSize: \"13px\",\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        display: \"inline-block\",\n    },\n    activeChat: {\n        backgroundColor: \"#d9d9d9\",\n        border: \"4px solid white\",\n        borderRadius: \"12px\",\n    },\n};\n\nexport default ChatCard;\n","import React, { useContext } from \"react\";\nimport { ChatEngineContext } from \"react-chat-engine\";\nimport { Row, Col } from \"react-grid-system\";\nimport { setConfiguration } from \"react-grid-system\";\nimport empty from \"../../../images/empty.png\";\nimport { MenuOutlined } from \"@ant-design/icons\";\nimport { Avatar } from 'react-chat-engine'\n\nsetConfiguration({ maxScreenClass: \"xl\", gutterWidth: 0 });\n\nexport const ChatHeader = (props) => {\n    const { conn, chats, activeChat } = useContext(ChatEngineContext);\n\n    const capitalize = (str, lower = true) => {\n        return (lower ? str.toLowerCase() : str).replace(\n            /(?:^|\\s|[\"'([{])+\\S/g,\n            (match) => match.toUpperCase()\n        );\n    };\n\n    if (!chats || !activeChat || !chats[activeChat]) {\n        return <div />;\n    }\n\n    if (!conn || conn === null) {\n        return <div />;\n    }\n\n    const chat = chats[activeChat];\n    const otherPerson = chat.people.find(\n        (person) => person.person.username !== conn.userName\n    );\n    const userStatus = (otherPerson) ? otherPerson.person.first_name : \"\"\n    const title = otherPerson\n        ? capitalize(decodeURIComponent(otherPerson.person.username))\n        : \"\";\n\n    function getDateTime(date) {\n        if (!date) return ''\n        date = date.replace(' ', 'T')\n        const year = date.substr(0, 4)\n        const month = date.substr(5, 2)\n        const day = date.substr(8, 2)\n        const hour = date.substr(11, 2)\n        const minute = date.substr(14, 2)\n        const second = date.substr(17, 2)\n        var d = new Date(`${year}-${month}-${day}T${hour}:${minute}:${second}`)\n        let offset = (-(d.getTimezoneOffset()) / 60)\n        d.setHours(d.getHours() + offset)\n        return d\n    }\n\n    function timeSinceDate(date) {\n        if (!date) return ''\n        let convertedDate = getDateTime(date)\n        let sent = convertedDate.toString()\n        const dayStr = sent.substr(0, 10)\n        const timeStr = sent.substr(15, 6)\n        return `${dayStr} at ${timeStr}`\n    }\n    return (\n        <Row className=\"ce-chat-title\" style={styles.titleSection}>\n\n            <div className=\"mobile-toggler\">\n                <MenuOutlined\n                    onClick={() => {\n                        document.querySelector(\".chat-container\").children[0].children[1].children[0].style.display = \"block\";\n                        document.querySelector(\".chat-container\").children[0].children[1].children[1].style.display = \"none\";\n                    }}\n                />\n            </div>\n\n            <Col\n                xs={8}\n                sm={12}\n                style={styles.titleContainer}\n                className=\"ce-chat-title-container\"\n            >\n\n                {otherPerson && otherPerson.person.avatar ? (\n                    <Avatar\n                        avatar={otherPerson.person.avatar ? otherPerson.person.avatar : \"\"}\n                        username={otherPerson.person.username}\n                        is_online={otherPerson.person.is_online}\n                    />\n                ) : (\n                    <img\n                        src={empty}\n                        className=\"chat-card-avatar\"\n                        style={{ borderRadius: \"50%\", width: \"40px\" }}\n                        alt=\"\"\n                    />\n                )}\n                <div className=\"ce-chat-header-container\">\n                    <div\n                        style={styles.titleText}\n                        className=\"ce-chat-title-text\"\n                        id={`ce-chat-feed-title-${title}`}\n                    >\n                        {title}\n                    </div>\n\n                    <div style={styles.subtitleText} className=\"ce-chat-subtitle-text\">\n\n                        {userStatus ? userStatus : (\n                            chat.last_message.created && chat.last_message.created.length > 0 ?\n                                `Active ${timeSinceDate(chat.last_message.created)}` :\n                                'Say hello!'\n                        )}\n                    </div>\n                </div>\n            </Col>\n        </Row>\n    );\n};\n\nexport default ChatHeader;\n\nconst styles = {\n    titleSection: {\n        position: \"absolute\",\n        top: \"0px\",\n        width: \"100%\",\n        zIndex: \"1\",\n        backgroundColor: \"rgb(256, 256, 256, 0.92)\",\n        fontFamily: \"Avenir\",\n    },\n    mobileOptiom: {\n        width: \"100%\",\n        top: \"32px\",\n        textAlign: \"center\",\n        color: \"rgb(24, 144, 255)\",\n        overflow: \"hidden\",\n    },\n    titleContainer: {\n        width: \"100%\",\n        padding: \"18px 0px\",\n        textAlign: \"left\",\n        color: \"rgb(24, 144, 255)\",\n    },\n    titleText: {\n        fontSize: \"24px\",\n        fontWeight: \"600\",\n    },\n    subtitleText: {\n        fontSize: \"12px\",\n    },\n};\n","import React, { useContext, useRef, useState, useEffect } from 'react'\n\nimport { ChatEngineContext } from 'react-chat-engine'\n\nconst IsTyping = () => {\n    const didMountRef = useRef(false)\n    const [currentTime, setCurrentTime] = useState(Date.now())\n    const { conn, activeChat, typingCounter } = useContext(ChatEngineContext)\n    const typers = typingCounter && typingCounter[activeChat] ? typingCounter[activeChat] : []\n\n    const capitalize = (str, lower = true) => {\n        return (lower ? str.toLowerCase() : str).replace(\n            /(?:^|\\s|[\"'([{])+\\S/g,\n            (match) => match.toUpperCase()\n        );\n    };\n\n    useEffect(() => {\n        if (!didMountRef.current) {\n            didMountRef.current = true\n            setInterval(() => {\n                setCurrentTime(Date.now())\n            }, 1000) \n        }\n    })\n\n    if (!conn || conn === null) return <div />\n\n    return (\n        <div>\n            {\n                Object.keys(typers).map((username, index) => {\n                    if (conn.userName !== username && currentTime < typers[username] + 2000) {\n                        return (\n                            <div\n                                key={`typer_${index}`}\n                                style={{\n                                    color: 'var(--paperclip-color)',\n                                    paddingLeft: '10px',\n                                    position: 'relative'\n\n                                }}\n                            >\n                                {`${capitalize(decodeURIComponent(username))} is typing...`}\n                            </div>\n                        )\n                    } else {\n                        return <div key={`typer_${index}`} />\n                    }\n                })\n            }\n        </div>\n    )\n}\n\nexport default IsTyping","import React from \"react\";\n\n\nconst ChatSettingsBox = () => {\n\n  return (\n    <div className=\"chat-settings-box\">\n    </div>\n  );\n};\n\nexport default ChatSettingsBox;\n\n\n","import React, { useState, useContext } from \"react\";\nimport { getOrCreateChat } from \"react-chat-engine\";\nimport { useAuth } from \"context/AuthContext.js\";\nimport { ChatEngineContext } from \"react-chat-engine\";\nimport { PlusOutlined } from \"@ant-design/icons\";\n\nconst NewChatForm = (props) => {\n\n  const { conn } = useContext(ChatEngineContext);\n   const [username, setUsername] = useState(\"\");\n  const [newChatError, setNewChatError] = useState(\"\");\n  const { convertedName } = useAuth();\n\n  function lowerLetters(str) {\n    return str.toLowerCase();\n  }\n \n  function createDirectChat(creds, otherPerson) {\n    if (creds) {\n      const newName = otherPerson\n        ? otherPerson\n        : encodeURIComponent(lowerLetters(username));\n\n      if (newName === convertedName) {\n        setNewChatError(\"This is your own nickname!\");\n        setTimeout(() => setNewChatError(\"\"), 5000);\n      } else {\n        var myHeaders = new Headers();\n        myHeaders.append(\"PRIVATE-KEY\", process.env.REACT_APP_CHAT_ENGINE_PRIVATE_KEY);\n\n        var requestOptions = {\n          method: \"GET\",\n          headers: myHeaders,\n          redirect: \"follow\",\n        };\n\n        fetch(\"https://api.chatengine.io/users/\", requestOptions)\n          .then((response) => response.json())\n          .then((data) => {\n            if (data.some((x) => x.username === newName)) {\n              getOrCreateChat(\n                conn,\n                { is_direct_chat: true, usernames: [newName] },\n                () => {\n                  setUsername(\"\");\n                  setNewChatError(\"\");\n                }\n              );\n            } else {\n              setNewChatError(\"There is no such user\");\n              setTimeout(() => setNewChatError(\"\"), 5000);\n            }\n          });\n      }\n\n    }\n  }\n  return (\n    <div>\n      <form\n        onSubmit={(e) => {\n          e.preventDefault();\n          if (conn.userName === \"Dan\") {\n            alert(\"Adding conversations is disabled on sample account, sorry!\");\n            return\n          }\n          else if (username.toLowerCase() === \"dan\") {\n            alert(\"Adding conversations with sample account is disabled, sorry!\");\n            return\n          }\n          createDirectChat(props.creds);\n        }}\n      >\n        <input\n          placeholder=\"Add new chat\"\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          required\n        />\n\n        <PlusOutlined onClick={() => {\n           if (conn.userName === \"Dan\") {\n            alert(\"Adding conversations is disabled on sample account, sorry!\");\n            return\n          }\n          else if (username.toLowerCase() === \"dan\") {\n            alert(\"Adding conversations with sample account is disabled, sorry!\");\n            return\n          }\n          createDirectChat(props.creds);\n        }} />\n\n      </form>\n      <div className=\"newChatError\">{newChatError}</div>\n    </div>\n  );\n};\n\nexport default NewChatForm;\n\n\n","import React, { useState, useEffect } from 'react'\n\nimport { CloseCircleTwoTone } from '@ant-design/icons'\n\nconst Thumbnail = props => {\n    const [hovered, setHovered] = useState(false)\n    const [blob, setBlob] = useState('')\n    useEffect(() => {\n      setBlob(URL.createObjectURL(props.file))\n    }, [props.file])\n    return (\n        <div \n            style={{ padding: '12px 6px', display: 'inline-block', position: \"relative\" }}\n            onMouseEnter={() => setHovered(true)}\n            onMouseLeave={() => setHovered(false)}\n        >\n            \n            <img\n                style={styles.imageSquare}\n                alt={props.file ? props.file.name : ''}\n                src={blob}\n            />\n\n            {\n                hovered &&\n                <CloseCircleTwoTone \n                    style={styles.closeIcon} \n                    onClick={() => props.onRemove && props.onRemove()}\n                />\n            }\n        </div>\n    )\n}\n\nexport default Thumbnail\n\nconst styles = {\n    imageSquare: { \n        height: '108px', \n        width: '108px', \n        border: '1px solid #afafaf',\n        borderRadius: '8px',\n        objectFit: 'cover',\n        display: 'inline',\n    },\n    closeIcon: {\n        position: 'absolute', \n        bottom: 'calc(100% - 32px)', \n        left: '96px', \n        width: '0px', \n        cursor: 'pointer'\n    }\n}\n","import React from 'react'\n\nimport Thumbnail from './Thumbnail'\n\nconst FileRow = props => {\n    function renderFiles() {\n        return props.files.map((file, index) => {\n            return (\n                <Thumbnail \n                    file={file} \n                    key={`thumb_${index}`} \n                    onRemove={() => props.onRemove && props.onRemove(index)}\n                />\n            )\n        })\n    }\n  \n    return (\n        <div style={{ \n            width: '50px', \n            paddingLeft: '12px',\n            position: 'absolute' ,\n            bottom: '70px'\n            }}>\n            { renderFiles() }\n        </div>\n    )\n}\n\nexport default FileRow","import React, { useState } from 'react';\n\nimport { PaperClipOutlined } from '@ant-design/icons'\n\nconst ImagesInput = props => {\n    const [state, setState] = useState({\n        hovered: false,\n    })\n\n    function onSelect(event) {\n        const files = Array.from(event.target.files)\n        props.onSelectFiles &&  props.onSelectFiles(files)\n    }\n\n    return (\n        <div\n            className=\"uploader\"\n            encType=\"multipart/form-data\"\n            style={{ height: '0px' }}\n        >\n            <label\n                htmlFor=\"files\"\n                id='upload-document-button'\n            >\n                <PaperClipOutlined \n                    onMouseEnter={() => setState({ ...state, hovered: true })}\n                    onMouseLeave={() => setState({ ...state, hovered: false })}\n                    style={{\n                        ...{ cursor: 'pointer', position: 'absolute', bottom: '20px', right: '63px', fontSize: '18px' },\n                        ...{ color: state.hovered ? '#69c0ff' : '#1890ff' }\n                    }}\n                />\n            </label>\n\n            <input\n               \n                id=\"files\"\n                accept=\"image/x-png,image/gif,image/jpeg\"\n                style={{ visibility: \"hidden\" }}\n                type=\"file\"\n                onChange={(e) => onSelect(e)}\n                onClick={(e) => e.target.value = null}\n            />\n        </div>\n    );\n}\n\nexport default ImagesInput\n","import React, { Component } from 'react'\n\nexport default class MessageInput extends Component {\n    state = {\n        focused: false,\n        value: null,\n        height: 0\n    }\n\n    resize() {\n        var textarea = document.getElementById(\"msg-textarea\");\n        textarea.style.height = \"\";\n        textarea.style.height = Math.min(textarea.scrollHeight, 150) + \"px\";\n        this.setState({ height: Math.min(textarea.scrollHeight, 150) })\n    }\n\n    componentDidMount() { this.resize() }\n\n    handleChange(e) {\n        this.resize()\n        this.props.handleChange && this.props.handleChange(e)\n    }\n\n    onKeyDown(e) {\n        if (e.key === 'Enter') { \n            e.preventDefault()\n\n            if (this.props.value.length > 0) {\n                this.props.onSubmit && this.props.onSubmit(e) \n            }\n        }\n    }    \n\n    render() {\n        const style = { \n            ...styles.input, \n            ...{ overflowY: this.state.height === 150 ? 'scroll' : 'hidden' } \n        }\n\n        return (\n            <textarea \n                id='msg-textarea'\n                className='ce-input ce-textarea-input'\n                rows='1'\n                style={style}\n                value={this.props.value}\n                placeholder={this.props.label}\n                onBlur={() => this.setState({ focused: false })}\n                onFocus={() => this.setState({ focused: true })}\n                type={this.props.type ? this.props.type : \"text\" }\n                onChange={(e) => this.handleChange(e)} \n                onKeyDown={(e) => this.onKeyDown(e)}\n                maxLength='120'\n                required\n            />\n        )\n    }\n}\n\nconst styles = {\n    input: { \n        border: '1px solid white',\n        width: 'calc(100% - 64px - 24px - 44px)',\n        outline: 'none', \n        fontSize: '15px',\n        fontFamily: 'Avenir',\n        paddingLeft: '12px',\n        paddingRight: '12px',\n        position: 'relative', \n        left: '12px',\n        resize: 'none', \n        overflowX: 'hidden'\n    }\n}","import React, { useContext, useState } from 'react'\n\nimport { ChatEngineContext } from 'react-chat-engine'\n\nimport { sendMessage, isTyping } from 'react-chat-engine'\nimport sendIcon from \"../../../../images/send.png\";\nimport FileRow from './FileRow'\nimport ImagesInput from './ImagesInput'\nimport MessageInput from './MessageInput'\n\n\n\nconst NewMessageForm = () => {\n  const { conn, activeChat } = useContext(ChatEngineContext)\n  const [state, setState] = useState({\n    trigger: 0,\n    mod: 3,\n    value: '',\n    attachments: []\n  })\n\n  if (!conn || conn === null) return <div />\n\n  function onRemove(index) {\n    let { attachments } = state \n    attachments.splice(index, 1)\n    setState({ ...state, attachments })\n  }\n  \n  function handleChange(event) {\n    setState({\n      ...state,\n      value: event.target.value,\n      trigger: (state.trigger + 1) % state.mod\n    });\n    \n    if (state.trigger === 1) {\n      isTyping(conn, activeChat)\n    }\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    if (conn.userName === \"Dan\") {\n      return\n    }\n    const { attachments } = state\n    const text = state.value.trim()\n    const custom_json = { sender_id: Date.now().toString() }\n    const sender_username = conn.userName ? conn.userName : conn.senderUsername\n    const data = { text, attachments, custom_json, sender_username, chat: activeChat }\n\n    if (text.length > 0 || attachments.length > 0) {\n      sendMessage(conn, activeChat, data, (data) => {})\n    }\n\n    setState({ ...state, value: '', attachments: [] })\n    \n    \n    var textarea = document.getElementById(\"msg-textarea\")\n    textarea.style.height = \"24px\"\n  }\n\n  return (\n    <div \n      id='msg-form-container'\n      style={styles.NewMessageFormContainer}\n      className='ce-message-form-container'\n    >\n      <FileRow files={state.attachments} onRemove={(i) => onRemove(i)} />\n\n      \n\n      <form onSubmit={handleSubmit.bind(this)} className='ce-message-form'>\n        <div style={styles.inputContainer} className='ce-message-input-form'>\n        <ImagesInput onSelectFiles={(attachments) => setState({ ...state, attachments })} />\n          <MessageInput\n            value={state.value}\n            label='Send a message...'\n            handleChange={handleChange.bind(this)}\n            onSubmit={handleSubmit.bind(this)}\n          />\n\n         \n        </div>\n        <button \n            icon='send'\n            type=\"submit\"\n            id='ce-send-message-button'\n            style={{  }}\n          >\n           <img src={sendIcon} className=\"send-icon\" alt=\"\"/>\n          </button>\n      </form>\n    </div>\n  );\n}\n\nexport default NewMessageForm\n\nconst styles = {\n  NewMessageFormContainer: { \n    position: 'absolute', \n    bottom: '0px', \n    width: '100%', \n    backgroundColor: 'white',\n  },\n  inputContainer: { \n    minHeight: '36px',\n    paddingTop: '10px',\n    paddingBottom: '6px',\n  },\n}","export default \"data:image/png;base64,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\"","import React from 'react'\n\nconst DatePartition = props => {\n    const { lastCreated, created } = props\n\n    function getDate(date) {\n        return date ? date.substr(0, 10) : null\n    }\n\n    const lastDate = getDate(lastCreated)\n    const thisDate = getDate(created)\n\n    if (lastCreated && lastDate === thisDate ) return <div />\n\n    return (\n        <div style={styles.dateText} className='ce-message-date-text'>\n            { formatDateTime(getDateTime(created, props.offset)) }\n        </div>\n    )\n}\nexport function getDateTime(date, offset) {\n    if (!date) return ''\n    \n    date = date.replace(' ', 'T')\n    offset = offset ? offset : 0\n\n    const year = date.substr(0,4)\n    const month = date.substr(5,2)\n    const day = date.substr(8,2)\n    const hour = date.substr(11,2)\n    const minute = date.substr(14,2)\n    const second = date.substr(17,2)\n    \n    var d = new Date(`${year}-${month}-${day}T${hour}:${minute}:${second}`)\n    d.setHours(d.getHours() + offset)\n    return d\n}\n\nconst options = { weekday: 'short', month: 'short', day: 'numeric', year: 'numeric' }\n\nexport function formatTime(dateTime) {\n    var time = dateTime.toLocaleString('en-GB')\n    return time.split(' ')[1].slice(0, -3) + ' ' + time.slice(-2)\n}\n\nexport function formatDate(dateTime) {\n    return dateTime.toLocaleString('en-GB', options)\n}\n\nexport function formatDateTime(dateTime) {\n    return formatTime(dateTime) + ', ' + formatDate(dateTime)\n}\nexport default DatePartition\n\nconst styles = {\n    dateText: { \n        width: '100%', \n        textAlign: 'center',\n        paddingTop: '4px',\n        paddingBottom: '10px',\n        fontSize: '15px',\n        color: 'rgba(0, 0, 0, .40)'\n    }\n}","const images = ['jpg', 'jpeg', 'png', 'gif', 'tiff']\n\nexport const isImage = (fileName) => {\n    const dotSplit = fileName.split('.')\n    return dotSplit.length > 0 && images.indexOf(dotSplit[dotSplit.length - 1].toLowerCase()) !== -1\n}\n\nexport const getFileName = (fileUrl) => {\n    const slashSplit = fileUrl.split('/')\n    const nameAndHash = slashSplit[slashSplit.length - 1]\n    return nameAndHash.split('?')[0]\n}","import React, { useState } from 'react'\n\nimport { LoadingOutlined } from '@ant-design/icons'\n\nconst Thumbnail = props => {\n    const [hovered, setHovered] = useState(false)\n    const { attachment } = props\n    const style={ \n        ...styles.thumbnail, \n        ...{ border: hovered ? '1px solid #1890ff' : '1px solid #fff' } \n    }\n\n    if (!attachment) {\n        return (\n            <div style={styles.loadingContainer}>\n                <LoadingOutlined  style={{ color: 'white', padding: '4px', fontSize: '24px' }} />\n            </div>\n        )\n    }\n\n    return (\n        <img \n            onClick={() => window.open(attachment.file)}\n            onMouseEnter={() => setHovered(true)}\n            onMouseLeave={() => setHovered(false)}\n            src={attachment.file}\n            alt={'thumb-nail'}\n            style={style}\n        />\n    )\n}\n\nexport default Thumbnail\n\nconst styles = {\n    loadingContainer: {\n        \n        cursor: 'pointer',\n        textAlign: 'right', \n        display: 'inline-block', \n        objectFit: 'cover',\n        borderRadius: '0.3em',\n        marginRight: '2px',\n        marginBottom: '4px',\n        height: '30vw', \n        width: '30vw', \n        maxHeight: '200px',\n        maxWidth: '200px',\n        minHeight: '100px',\n        minWidth: '100px',\n        backgroundColor: '#d9d9d9',\n    },\n    thumbnail: { \n        cursor: 'pointer',\n        textAlign: 'right', \n        display: 'inline', \n        objectFit: 'cover',\n        borderRadius: '0.3em',\n        paddingRight: '2px',\n        height: '30vw', \n        width: '30vw', \n        maxHeight: '200px',\n        maxWidth: '200px',\n        minHeight: '100px',\n        minWidth: '100px',\n    }\n}","import React, { useState } from 'react'\n\nimport { FileOutlined } from '@ant-design/icons'\n\nimport { getFileName } from './file'\n\nimport { LoadingOutlined } from '@ant-design/icons'\n\nconst FileView = props => {\n    const [hovered, setHovered] = useState(false)\n    const { attachment } = props\n    const style={ \n        ...styles.fileView,  \n        ...{ \n            color: hovered ? '#1890ff' : '#434343',\n            border: hovered ? '1px solid #1890ff' : '1px solid #434343',\n        } \n    }\n\n    if (!attachment) {\n        return (\n            <div style={styles.loadingContainer}>\n                <LoadingOutlined  style={{ color: 'white', padding: '4px', fontSize: '24px' }} />\n            </div>\n        )\n    }\n\n    return (\n        <div \n            style={style} \n            onMouseEnter={() => setHovered(true)}\n            onMouseLeave={() => setHovered(false)}\n            onClick={() => window.open(attachment.file)}\n        >\n            <FileOutlined />{' '}{ getFileName(attachment.file) }\n        </div>\n    )\n}\n\nexport default FileView\n\nconst styles = {\n    loadingContainer: {\n        display: 'inline-block', \n        borderRadius: '14px',\n        marginRight: '2px',\n        height: '48px', \n        width: '136px', \n        marginBottom: '4px',\n        marginLeft: '4px',\n        backgroundColor: '#d9d9d9',\n    },\n    fileView: { \n        padding: '12px',\n        borderRadius: '14px',\n        display: 'inline-block',\n        marginBottom: '4px',\n        marginRight: '2px',\n        cursor: 'pointer',\n    }\n}","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\n\n\n\nexport default class Dot extends Component {\n    state = { avatar: '' }\n\n    updateImg() {\n        let { avatar } = this.props\n        avatar = avatar && avatar !== null ? avatar : ''\n        \n        if (avatar.split('?')[0] !== this.state.avatar.split('?')[0]) {\n            this.setState({ avatar })\n        }\n    }\n\n    componentDidMount() { this.updateImg() }\n\n    componentDidUpdate() { this.updateImg() }\n\n    render() {\n             \n        const customStyle = this.props.style ? this.props.style : {}\n        \n        return (\n            <div\n                className='ce-avatar-dot'\n                style={{\n                    ...styles.dot,\n                    ...customStyle,\n                    ...{\n                        backgroundColor: this.state.avatar ? 'white' : 'green',\n                        backgroundImage: this.state.avatar && `url(${this.state.avatar})`,\n                        backgroundRepeat: 'no-repeat',\n                        backgroundPosition: 'center',\n                        backgroundSize: '14px'\n                    }\n                }}\n            />\n        )\n    }\n}\n\nconst styles = {\n    dot: {\n        width: '13px',\n        height: '13px',\n        borderRadius: '13px',\n        textAlign: 'center',\n    }\n}\n\nDot.propTypes = {\n    avatar: PropTypes.string,\n    username: PropTypes.string,\n    style: PropTypes.object,\n}","import React from 'react'\n\nconst Body = props => {\n    let text = props.text ? props.text : ''\n    text = text.replaceAll(\"<p>\", \"<div>\").replaceAll(\"</p>\", \"</div>\")\n    text = text.replaceAll(\"<a \", `<a style=\"color: ${ props.myMessage ? 'white' : '#1890ff' };\" `)\n\n    return (\n        <div className='ce_message' dangerouslySetInnerHTML={{ __html: text }} />\n    ) \n}\n\nexport default Body","import React, { useState, useContext } from 'react'\n\nimport { ChatEngineContext } from 'react-chat-engine'\n\nimport { getFileName, isImage } from './file'\n\nimport Thumbnail from './Thumbnail'\nimport FileView from './FileView'\n\nimport Dot from './dot'\n\nimport Body from './Body'\n\nimport { Row, Col, setConfiguration } from 'react-grid-system'\n\nsetConfiguration({ maxScreenClass: 'xl' })\n\nconst Message = props => {\n    const { conn } = useContext(ChatEngineContext)\n    const [hovered, setHovered] = useState(false)\n    function renderReads() {\n        const { chat, message } = props\n\n        if (!chat) { return <div /> }\n\n        return chat.people.map((chatPerson, index) => {\n         \n            if (message.id === chatPerson.last_read && (chatPerson.person.username !== conn.userName)) {\n                return (\n                    <Dot\n                        key={`read_${index}`}\n                        avatar={chatPerson.person.avatar}\n                        username={chatPerson.person.username}\n                        style={{ float: 'right', marginLeft: '4px' }}\n                    />\n                )\n            }\n            return <div key={`read_${index}`} />\n        })\n    }\n    function getDateTime(date, offset) {\n        if (!date) return ''\n        \n        date = date.replace(' ', 'T')\n        offset = offset ? offset : 0\n    \n        const year = date.substr(0,4)\n        const month = date.substr(5,2)\n        const day = date.substr(8,2)\n        const hour = date.substr(11,2)\n        const minute = date.substr(14,2)\n        const second = date.substr(17,2)\n        \n        var d = new Date(`${year}-${month}-${day}T${hour}:${minute}:${second}`)\n        d.setHours(d.getHours() + offset)\n        return d\n    }\n    \n\n    \n     function formatTime(dateTime) {\n        var time = dateTime.toLocaleString('en-US')\n        return time.split(' ')[1].slice(0, -3) + ' ' + time.slice(-2)\n    }\n    function renderImages() {\n        const { message } = props\n        const attachments = message && message.attachments ? message.attachments : []\n\n        return attachments.map((attachment, index) => {\n            const fileName = getFileName(attachment.file)\n            if (isImage(fileName)) {\n                return <Thumbnail attachment={attachment} key={`attachment_${index}`} />\n            } else {\n                return <div key={`attachment${index}`} />\n            }\n        })\n    }\n\n    function renderFiles() {\n        const { message } = props\n        const attachments = message && message.attachments ? message.attachments : []\n\n        return attachments.map((attachment, index) => {\n            const fileName = getFileName(attachment.file)\n            if (!isImage(fileName)) {\n                return <FileView attachment={attachment} key={`attachment_${index}`} />\n            } else {\n                return <div key={`attachment${index}`} />\n            }\n        })\n    }\n\n    const { lastMessage, message, nextMessage } = props\n\n    if (!message) { return <div /> }\n\n    const attachments = message && message.attachments && message.attachments\n\n    const topRightRadius = !lastMessage || lastMessage.sender_username !== message.sender_username ? '1.3em' : '0.3em'\n    const bottomRightRadius = !nextMessage || nextMessage.sender_username !== message.sender_username ? '1.3em' : '0.3em'\n\n    const borderRadius = `1.3em ${topRightRadius} ${bottomRightRadius} 1.3em`\n    const paddingBottom = !nextMessage || nextMessage.sender_username !== message.sender_username ? '12px' : '2px'\n   \n    return (\n        <div\n            className='ce-message-row ce-my-message'\n            style={{ width: '100%', textAlign: 'right', paddingBottom }}\n        >\n            <div\n                style={{ display: 'auto' }}\n                className='ce-my-message-attachments-container ce-my-message-images-container'\n            >\n                {renderImages()}\n            </div>\n\n            <div\n                style={{ display: 'auto' }}\n                className='ce-my-message-attachments-container ce-my-message-files-container'\n            >\n                {renderFiles()}\n            </div>\n\n            <Row\n                style={{ paddingRight: '2px' }}\n                className='ce-message-bubble-row ce-my-message-bubble-row'\n            >\n                <Col xs={12} sm={12} md={12}>\n                    {\n                        hovered &&\n                        <span style={{ position: 'relative', top: 'calc(50% - 12px)', right: '8px', fontSize: '14px', color: 'rgb(24, 144, 255)' }}>\n                            {formatTime(getDateTime(message.created, conn !== null && conn.offset))}\n                        </span>\n                    }\n\n                    {\n                        !attachments || (message.text &&\n                        <div\n                            className='ce-message-bubble ce-my-message-bubble'\n                            style={{ ...styles.myMessage, ...{ borderRadius } }}\n                            onMouseEnter={() => setHovered(true)}\n                            onMouseLeave={() => setHovered(false)}\n                        >\n                            <Body myMessage={true} text={message.text} />\n                        </div>)\n                    }\n                </Col>\n\n                <Col xs={1} sm={2} md={3} />\n\n                <Col xs={12} className='ce-reads-row ce-my-reads-row'>\n                    {renderReads()}\n                </Col>\n            </Row>\n        </div>\n    )\n}\n\nexport default Message\n\nconst styles = {\n    myMessage: {\n        color: 'white',\n        cursor: 'pointer',\n        float: 'right', textAlign: 'left', \n        padding: '12px',\n        fontSize: '15px',\n        whiteSpace: 'pre-line',\n        backgroundColor: 'rgb(24, 144, 255)',\n        overflowWrap: 'anywhere',\n        maxWidth: 'calc(100% - 100px)'\n    }\n}","import React, { useState, useContext } from 'react'\n\nimport { ChatEngineContext } from 'react-chat-engine'\n\nimport { getFileName, isImage } from './file'\n\nimport FileView from './FileView'\nimport Thumbnail from './Thumbnail'\n\nimport { Avatar, Dot } from 'react-chat-engine'\n\nimport Body from './Body'\n\nimport { Row, Col, setConfiguration } from 'react-grid-system'\n\nsetConfiguration({ maxScreenClass: 'xl' })\n\n\nconst TheirMessage = props => {\n    const { conn } = useContext(ChatEngineContext)\n    const [hovered, setHovered] = useState(false)\n\n    function renderReads() {\n        const { chat, message } = props\n\n        if (!chat) { return <div /> }\n\n        return chat.people.map((person, index) => {\n            if (message.id === person.last_read) {\n                return (\n                    <Dot\n                        key={`read_${index}`}\n                        avatar={person.person.avatar}\n                        username={person.person.username}\n                        style={{ float: 'left', marginLeft: '4px' }}\n                    />\n                )\n            }\n            return <div key={`read_${index}`} />\n        })\n    }\n    function getDateTime(date, offset) {\n        if (!date) return ''\n        \n        date = date.replace(' ', 'T')\n        offset = offset ? offset : 0\n    \n        const year = date.substr(0,4)\n        const month = date.substr(5,2)\n        const day = date.substr(8,2)\n        const hour = date.substr(11,2)\n        const minute = date.substr(14,2)\n        const second = date.substr(17,2)\n        \n        var d = new Date(`${year}-${month}-${day}T${hour}:${minute}:${second}`)\n        d.setHours(d.getHours() + offset)\n        return d\n    }\n    \n\n    \n     function formatTime(dateTime) {\n        var time = dateTime.toLocaleString('en-US')\n        return time.split(' ')[1].slice(0, -3) + ' ' + time.slice(-2)\n    }\n    function renderImages() {\n        const { message } = props\n        const attachments = message && message.attachments ? message.attachments : []\n\n        return attachments.map((attachment, index) => {\n            const fileName = getFileName(attachment.file)\n            if (isImage(fileName)) {\n                return <Thumbnail attachment={attachment} key={`attachment_${index}`} />\n            } else {\n                return <div key={`attachment${index}`} />\n            }\n        })\n    }\n\n    function renderFiles() {\n        const { message } = props\n        const attachments = message && message.attachments ? message.attachments : []\n\n        return attachments.map((attachment, index) => {\n            const fileName = getFileName(attachment.file)\n            if (!isImage(fileName)) {\n                return <FileView attachment={attachment} key={`attachment_${index}`} />\n            } else {\n                return <div key={`attachment${index}`} />\n            }\n        })\n    }\n\n    const { lastMessage, message, nextMessage } = props\n\n    if (!message) { return <div /> }\n\n    const attachments = message && message.attachments && message.attachments\n\n    const topLeftRadius = !lastMessage || lastMessage.sender_username !== message.sender_username ? '1.3em' : '0.3em'\n    const bottomLeftRadius = !nextMessage || nextMessage.sender_username !== message.sender_username ? '1.3em' : '0.3em'\n\n    const borderRadius = `${topLeftRadius} 1.3em 1.3em ${bottomLeftRadius}`\n    const paddingBottom = !nextMessage || nextMessage.sender_username !== message.sender_username ? '12px' : '2px'\n\n    return (\n        <div\n            style={{ width: '100%', paddingBottom }}\n            className='ce-message-row ce-their-message'\n        >\n            {\n                (!lastMessage || lastMessage.sender_username !== message.sender_username) &&\n                <div style={styles.nameText} className='ce-their-message-sender'>\n                    {message.sender_username}\n                </div>\n            }\n\n            <Row style={{ paddingLeft: '2px' }} className='ce-their-message-row'>\n                <Col xs={12} sm={12} md={12}>\n                    <div style={{ height: '0px' }} className='ce-their-message-avatar'>\n                        {\n                            (!nextMessage || nextMessage.sender_username !== message.sender_username) &&\n                            <Avatar\n                                show_online={false}\n                                username={message.sender_username}\n                                avatar={message.sender && message.sender.avatar}\n                            />\n                        }\n                    </div>\n\n                    <div\n                        style={{ display: 'auto', paddingLeft: '50px' }}\n                        className='ce-their-message-attachments-container ce-their-message-images-container'\n                    >\n                        {renderImages()}\n                    </div>\n\n                    <div\n                        style={{ display: 'auto', paddingLeft: '50px' }}\n                        className='ce-their-message-attachments-container ce-their-message-files-container'\n                    >\n                        {renderFiles()}\n                    </div>\n\n                    {\n                        !attachments || (message.text &&\n                        <div style={{ paddingLeft: '48px' }}>\n                            <div\n                                className='ce-message-bubble ce-their-message-bubble'\n                                style={{ ...styles.theirMessage, ...{ borderRadius } }}\n                                onMouseEnter={() => setHovered(true)}\n                                onMouseLeave={() => setHovered(false)}\n                            >\n                                <Body text={message.text} />\n                            </div>\n                        </div>)\n                    }\n\n                    {\n                        hovered &&\n                        <span style={{ position: 'relative', top: 'calc(50% - 12px)', left: '8px', fontSize: '14px', color: 'rgba(0, 0, 0, 0.4)' }}>\n                            {formatTime(getDateTime(message.created, conn !== null && conn.offset))}\n                        </span>\n                    }\n                </Col>\n\n                \n                <Col\n                    xs={9}\n                    style={{ marginLeft: '48px' }}\n                    className='ce-reads-row ce-their-reads-row'\n                >\n                    {renderReads()}\n                </Col>\n            </Row>\n        </div>\n    )\n}\n\nexport default TheirMessage\n\nconst styles = {\n    theirMessage: {\n        cursor: 'pointer',\n        color: 'black',\n        float: 'left',\n        padding: '12px',\n        fontSize: '15px',\n        whiteSpace: 'pre-line',\n        backgroundColor: '#f1f0f0',\n        overflowWrap: 'anywhere',\n        maxWidth: 'calc(100% - 100px)',\n    },\n    nameText: {\n        paddingLeft: '62px',\n        paddingBottom: '2px',\n        color: 'rgba(0, 0, 0, .40)',\n        fontSize: '15px'\n    }\n}","import React, { useContext, useEffect, useRef } from 'react'\n\nimport { ChatEngineContext } from 'react-chat-engine'\n\nimport { isImage } from './file'\n\nimport FileView from './FileView'\nimport Thumbnail from './Thumbnail'\n\nimport Body from './Body'\n\nimport { Row, Col, setConfiguration } from 'react-grid-system'\n\nsetConfiguration({ maxScreenClass: 'xl' })\n\nlet reconnectID = 0;\n\nconst SendingMessage = props => {\n    const didMountRef = useRef(false)\n    const { setConnecting } = useContext(ChatEngineContext)\n\n    // Connect if longer than 5 seconds\n    useEffect(() => {\n        if (!didMountRef.current) {\n            didMountRef.current = true\n            reconnectID = setTimeout(() => {\n                setConnecting(true)\n            }, 5000)\n        }\n        return () => {\n            clearInterval(reconnectID);\n        }\n    })\n\n    function renderImages(attachments) {\n        return attachments.map((attachment, index) => {\n            if (isImage(attachment.name)) {\n                return <Thumbnail key={`attachment_${index}`} />\n            } else {\n                return <div key={`attachment${index}`} />\n            }\n        })\n    }\n\n    function renderFiles(attachments) {\n        return attachments.map((attachment, index) => {\n            if (!isImage(attachment.name)) {\n                return <FileView key={`attachment_${index}`} />\n            } else {\n                return <div key={`attachment${index}`} />\n            }\n        })\n    }\n\n    const { lastMessage, message, nextMessage } = props\n\n    if (!message) { return <div /> }\n\n    const attachments = message && message.attachments ? message.attachments : []\n\n    const topRightRadius = !lastMessage || lastMessage.sender_username !== message.sender_username ? '1.3em' : '0.3em'\n    const bottomRightRadius = !nextMessage || nextMessage.sender_username !== message.sender_username ? '1.3em' : '0.3em'\n\n    const borderRadius = `1.3em ${topRightRadius} ${bottomRightRadius} 1.3em`\n    const paddingBottom = !nextMessage || nextMessage.sender_username !== message.sender_username ? '12px' : '2px'\n\n    return (\n        <div\n            className='ce-message-row ce-my-message ce-my-message-sending'\n            style={{ width: '100%', textAlign: 'right', paddingBottom }}\n        >\n            <div\n                style={{ display: 'auto' }}\n                className='ce-my-message-attachments-container ce-my-message-images-container'\n            >\n                {renderImages(attachments)}\n            </div>\n\n            <div\n                style={{ display: 'auto' }}\n                className='ce-my-message-attachments-container ce-my-message-files-container'\n            >\n                {renderFiles(attachments)}\n            </div>\n\n            <Row\n                style={{ paddingRight: '2px' }}\n                className='ce-message-bubble-row ce-my-message-bubble-row ce-my-message-sending-row'\n            >\n                <Col xs={12} sm={12} md={12}>\n                    {\n                        message.text &&\n                        <div\n                            className='ce-message-bubble ce-my-message-bubble'\n                            style={{ ...styles.myMessage, ...{ borderRadius } }}\n                        >\n                            <Body text={message.text} />\n                        </div>\n                    }\n                </Col>\n\n                <Col xs={1} sm={2} md={3} />\n            </Row>\n        </div>\n    )\n}\n\nexport default SendingMessage\n\nconst styles = {\n    myMessage: {\n        color: 'white',\n        cursor: 'pointer',\n        float: 'right', textAlign: 'left', \n        padding: '12px',\n        fontSize: '15px',\n        whiteSpace: 'pre-line',\n        backgroundColor: '#40a9ff',\n        overflowWrap: 'anywhere',\n        maxWidth: 'calc(100% - 100px)',\n    }\n}","import React, { useContext } from 'react'\nimport { ChatEngineContext } from 'react-chat-engine'\nimport DatePartition from './DatePartition'\nimport MyMessage from './MyMessage'\nimport TheirMessage from './TheirMessage'\nimport SendingMessage from './SendingMessage'\n\nconst Message = props => {\n    const { lastMessage, message, nextMessage, sending, chat } = props\n\n    const { conn } = useContext(ChatEngineContext)\n\n    if (!message || !chat) { return <div /> }\n\n    if (!conn || conn === null) { return <div /> }\n    if (conn.userName === \"Dan\") return null\n    return (\n        <div className='ce-message-and-date'>\n            {\n                !sending &&\n                <DatePartition \n                    lastCreated={lastMessage ? lastMessage.created : null} \n                    created={message.created} \n                    offset={conn.offset}\n                />\n            }\n\n            {\n                sending ? \n                <SendingMessage \n                    chat={chat} \n                    conn={conn} \n                    lastMessage={lastMessage} \n                    message={message} \n                    nextMessage={nextMessage} \n                /> :\n                <div>\n                    {\n                        message.sender_username === conn.userName || message.sender_username === conn.senderUsername ?\n                        <MyMessage \n                            chat={chat}\n                            conn={conn}\n                            lastMessage={lastMessage}\n                            message={message}\n                            nextMessage={nextMessage}\n                        /> :\n                        <TheirMessage \n                            chat={chat}\n                            conn={conn}\n                            lastMessage={lastMessage}\n                            message={message}\n                            nextMessage={nextMessage}\n                        />\n                    }\n                </div>\n            }\n        </div>\n    ) \n}\n\nexport default Message","export default __webpack_public_path__ + \"static/media/loading.4491ef28.svg\";","import AvatarEditor from \"react-avatar-editor\";\nimport { Image } from \"semantic-ui-react\";\nimport { useEffect, useRef, useState } from \"react\";\nimport React from \"react\";\n\nexport const ChatAvatar = ({ file, close, onSubmit, crop = false, username, userstatus }) => {\n\n  const [imageSrc, setImageSrc] = useState(\"\");\n  const cropRef = useRef();\n  const newUsername = useState(username);\n  const newStatus = useState(userstatus);\n\n  useEffect(() => {\n    const fr = new FileReader();\n    fr.onload = () => setImageSrc(fr.result);\n    fr.readAsDataURL(file);\n  }, [file]);\n\n  return (\n    <div className=\"chat-new-avatar\">\n      {crop ? (\n        <AvatarEditor\n          ref={cropRef}\n          width={100}\n          height={100}\n          border={40}\n          borderRadius={50}\n          image={imageSrc}\n        />\n      ) : (\n        <Image size=\"medium\" src={imageSrc} alt=\"preview\" />\n      )}\n              \n      <div className=\"image-upload-actions\">\n        <button className=\"cancel\" onClick={close}>\n          Cancel\n        </button>\n        <button\n          className=\"submit\"\n          onClick={() => {\n            if (crop && cropRef) {\n              const canvas = cropRef.current\n                .getImageScaledToCanvas()\n                .toDataURL();\n              fetch(canvas)\n                .then((res) => res.blob())\n                .then((blob) => onSubmit(blob, newUsername, newStatus));\n            } else {\n              onSubmit();\n            }\n          }}\n        >\n          Upload\n        </button>\n      </div>\n    </div>\n  );\n};\n","import { useState } from \"react\";\nimport React from \"react\";\n\nexport const EditProfile = ({ userstatus, onSubmit }) => {\n\n  const [newStatus, setNewStatus] = useState(userstatus);\n\n  return (\n    <div className=\"edit-profile\">\n      <form\n        onSubmit={(e) => {\n          e.preventDefault();\n          onSubmit(newStatus);\n        }}\n      >\n        <div className=\"edit-name-input\">\n          <input\n            placeholder=\"New status\"\n            value={newStatus}\n            onChange={(e) => setNewStatus(e.target.value)}\n            maxLength=\"20\"\n          />\n        </div>\n      </form>\n    </div>\n  );\n};\n","import { EditProfile } from \"./EditProfile\";\nimport { useState, useEffect, useContext } from \"react\";\nimport { useAuth } from \"context/AuthContext.js\";\nimport { EditOutlined, CloseOutlined } from \"@ant-design/icons\";\nimport { ChatEngineContext } from \"react-chat-engine\";\n\nexport const UserStatus = (props) => {\nconst { conn } = useContext(ChatEngineContext);\n  const [userStatusAvailable, setUserStatusAvailable] = useState(false);\n  const [editing, setEditing] = useState(false);\n  const { userObject, convertedName } = useAuth();\n  const [currentStatus, setCurrentStatus] = useState(props.userStatus)\n\n  useEffect(() => {\n    setUserStatusAvailable(true);\n  }, [editing])\n\n  const updateProfile = (newStatus) => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"Project-ID\", process.env.REACT_APP_PROJECT_ID);\n    myHeaders.append(\"User-Name\", convertedName);\n    myHeaders.append(\"User-Secret\", userObject.uid);\n\n    const formdata = new FormData();\n    formdata.append(\"first_name\", newStatus);\n\n    const requestOptions = {\n      method: \"PATCH\",\n      headers: myHeaders,\n      body: formdata,\n      redirect: \"follow\",\n    };\n\n    fetch(\"https://api.chatengine.io/users/me/\", requestOptions).then(() => {\n      setCurrentStatus(newStatus)\n    });\n  };\n\n  return (\n    <div className=\"chat-list-user-status\">\n      {editing ?\n        <EditProfile\n          userstatus={currentStatus}\n          close={() => {\n            setEditing(false)\n          }}\n          onSubmit={(newStatus) => {\n            updateProfile(newStatus)\n            setEditing(false)\n          }}\n        />\n        :\n        <>\n          <div className=\"user-status\">\n           \n             {(conn.userName === \"Dan\") ? \"sample status\" : <>{currentStatus ? currentStatus : \"\"}</>   }  \n             </div>\n        </>}\n      {!editing ?\n        <EditOutlined onClick={() => setEditing(true)} /> :\n        <CloseOutlined onClick={() => setEditing(false)} />\n      }\n    </div>\n  )\n}","import { useRef, useState, useEffect,  useContext } from \"react\";\nimport { useAuth } from \"context/AuthContext.js\";\nimport { Icon, IconGroup, Loader } from \"semantic-ui-react\";\nimport { ChatAvatar } from \"./ChatAvatar\";\nimport { UserStatus } from \"./UserStatus\";\nimport empty from \"../../../images/empty.png\";\nimport loadingAnimation from \"../../../images/loading.svg\";\nimport { ChatEngineContext } from 'react-chat-engine'\n\nexport const ChatProfile = (props) => {\n  const { userObject, convertedName } = useAuth();\n  const [avatarURL, setAvatarURL] = useState();\n  const [userStatus, setUserStatus] = useState();\n  const inputRef = useRef(null);\n  const [image, setImage] = useState();\n  const [avatarState, setAvatarState] = useState(false);\n  const [statusState, setStatusState] = useState(false);\n  const [avatarVisibility, setAvatarVisibility] = useState(true);\n  const { conn } = useContext(ChatEngineContext)\n\n  const capitalize = (str, lower = true) => {\n    return (lower ? str.toLowerCase() : str).replace(\n      /(?:^|\\s|[\"'([{])+\\S/g,\n      (match) => match.toUpperCase()\n    );\n  };\n\n  const onFileAttach = (file) => {\n    setImage(file);\n  };\n\n  const updateAv = () => {\n    const myHeaders = new Headers();\n    myHeaders.append(\"Project-ID\", process.env.REACT_APP_PROJECT_ID);\n    myHeaders.append(\"User-Name\", convertedName);\n    myHeaders.append(\"User-Secret\", userObject.uid);\n\n    const formdata = new FormData();\n    formdata.append(\"avatar\", image, image.name);\n\n    const requestOptions = {\n      method: \"PATCH\",\n      headers: myHeaders,\n      body: formdata,\n      redirect: \"follow\",\n    };\n\n    fetch(\"https://api.chatengine.io/users/me/\", requestOptions)\n      .then(() => {\n        setAvatarState(false)\n        setAvatarURL()\n      }\n      )\n  };\n\n  useEffect(() => {\n    var myHeaders = new Headers();\n    myHeaders.append(\"Project-ID\", process.env.REACT_APP_PROJECT_ID);\n    myHeaders.append(\"User-Name\", props.conn.userName);\n    myHeaders.append(\"User-Secret\", props.conn.userSecret);\n\n    var requestOptions = {\n      method: \"GET\",\n      headers: myHeaders,\n      redirect: \"follow\",\n    };\n\n    fetch(\"https://api.chatengine.io/users/me/\", requestOptions)\n      .then((response) => response.json())\n      .then((result) => {\n        setUserStatus(result.first_name)\n        setAvatarURL(result.avatar);\n        setAvatarState(true);\n        setStatusState(true)\n\n      });\n  }, [avatarState]);\n\n  return (\n    <div className=\"chat-profile-container\">\n      <input\n        type=\"file\"\n        ref={inputRef}\n        className=\"image-input\"\n        accept=\"image/jpeg,image/png\"\n        onChange={(e) => {\n          const file = e.target?.files?.[0];\n          if (file) {\n            onFileAttach(file);\n            setAvatarVisibility(false);\n          }\n        }}\n      />\n\n      {!!image && (\n        <ChatAvatar\n          crop\n          file={image}\n          header=\"Set Your Avatar\"\n          mode=\"message\"\n          username={props.conn.userName}\n          userstatus={userStatus}\n          onSubmit={(croppedImage) => {\n            setImage(croppedImage);\n            updateAv();\n            setImage(null);\n            setAvatarVisibility(true);\n          }}\n          close={() => {\n            setImage(null)\n            setAvatarVisibility(true);\n          }}\n        />\n      )}\n\n      {userObject.uid && avatarVisibility ? (\n        <div className=\"current-user-info\">\n          <IconGroup\n            onClick={() => {\n              if (conn.userName === \"Dan\") {\n                  alert(\"Changing avatar is disabled on sample account, sorry!\")\n                return null\n                }\n              const input = inputRef.current;\n              if (input) {\n                input.value = \"\";\n                input.click();\n              }\n            }}\n            className=\"user-avatar\"\n            size=\"large\"\n          >\n            {avatarState ? (\n              <>\n                {avatarURL ? (\n                  <img\n                    src={avatarURL}\n                    style={{ borderRadius: \"50%\", width: \"120px\" }}\n                    alt=\"\"\n                  />\n                ) : (\n                  <img\n                    src={empty}\n                    style={{ borderRadius: \"50%\", width: \"120px\" }}\n                    alt=\"\"\n                  />\n                )}\n              </>\n            ) : (\n              <img src={loadingAnimation} alt=\"\" />\n            )}\n\n            <Icon corner name=\"camera\" inverted circular />\n          </IconGroup>\n\n\n        </div>\n      ) : (\n        <div className=\"user-loading\">\n          <Loader active size=\"small\" />\n        </div>\n      )}\n\n      {!image ?\n        <div className=\"chat-profile-info\">\n          <div className=\"current-username\">\n            <div className=\"username-border\">\n              {capitalize(decodeURIComponent(convertedName))}\n            </div>\n\n          </div>\n\n          {statusState ?\n            <UserStatus userStatus={userStatus} /> : \"\"}\n\n        </div>\n        : \"\"}\n\n    </div>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/chatlogo.d3d04b66.png\";","import React, { useContext, useEffect, useRef, useState } from 'react'\n\nimport { ChatEngineContext, getLatestChats } from 'react-chat-engine'\nimport { ChatProfile } from \"./ChatProfile\";\nimport { GithubOutlined, CloseOutlined, BgColorsOutlined, UserOutlined, DeleteOutlined, LogoutOutlined } from \"@ant-design/icons\";\nimport { fb } from \"service\";\nimport _ from 'lodash'\nimport chatLogo from \"../../../images/chatlogo.png\";\nimport chatlogo from \"../../../images/chatlogo.png\";\n\nimport NewChatForm from './NewChatForm'\n\nlet count = 50\n\nconst ChatList = props => {\n    const didMountRef = useRef(false)\n    const [hasMoreChats, setHasMoreChats] = useState(true)\n    const [editingProfile, setEditingProfile] = useState(false)\n    const [logoSource, setLogoSource] = useState(chatLogo);\n    const [theme, setTheme] = useState(\"dark\");\n    const { conn, chats, setChats, setActiveChat, activeChat } = useContext(ChatEngineContext)\n    const chat = chats && chats[activeChat];\n\n    const name = props.WhatsUpState.userName\n    const secret = props.WhatsUpState.userSecret\n\n    useEffect(() => {\n\n        const themeValue = localStorage.getItem(\"theme\");\n\n        if (themeValue === \"light\") {\n            document.querySelector(\".app\").classList.add(\"light\");\n            setLogoSource(chatlogo)\n\n        } else if (themeValue === \"dark\") {\n            document.querySelector(\".app\").classList.remove(\"light\");\n            setLogoSource(chatLogo)\n\n        } else {\n            localStorage.setItem(\"theme\", theme);\n        }\n    }, [theme]);\n\n    function deleteActiveChat(chatID) {\n        var myHeaders = new Headers();\n\n        let otherPerson = chat.people.find(\n            (person) => person.person.username !== name\n        )\n            ? chat.people.find((person) => person.person.username !== name)\n            : chat.people.find((person) => person.person.username === name);\n\n        myHeaders.append(\"Project-ID\", process.env.REACT_APP_PROJECT_ID);\n        myHeaders.append(\"User-Name\", name);\n        myHeaders.append(\"User-Secret\", secret);\n\n        var raw = `{\"username\": \"${name}\"}`;\n        var raw2 = `{\"username\": \"${otherPerson.person.username}\"}`;\n\n        var firstUser = {\n            method: \"DELETE\",\n            headers: myHeaders,\n            body: raw,\n            redirect: \"follow\",\n        };\n        var secondUser = {\n            method: \"DELETE\",\n            headers: myHeaders,\n            body: raw2,\n            redirect: \"follow\",\n        };\n\n        fetch(`https://api.chatengine.io/chats/${chatID}/people/`, firstUser)\n            .then((response) => response.text())\n            .then((result) => console.log(result))\n            .catch((error) => console.log(\"error\", error));\n\n        fetch(`https://api.chatengine.io/chats/${chatID}/people/`, secondUser)\n            .then((response) => response.text())\n            .then((result) => console.log(result))\n            .catch((error) => console.log(\"error\", error));\n    }\n    function getDateTime(date, offset) {\n        if (!date) return ''\n\n        date = date.replace(' ', 'T')\n        offset = offset ? offset : 0\n\n        const year = date.substr(0, 4)\n        const month = date.substr(5, 2)\n        const day = date.substr(8, 2)\n        const hour = date.substr(11, 2)\n        const minute = date.substr(14, 2)\n        const second = date.substr(17, 2)\n\n        var d = new Date(`${year}-${month}-${day}T${hour}:${minute}:${second}`)\n        d.setHours(d.getHours() + offset)\n        return d\n    }\n\n    function renderChats(chats) {\n        return chats.map((chat, index) => {\n            if (!chat) {\n                return <div key={`chat_${index}`} />\n\n            } else if (props.WhatsUpState.renderChatCard) {\n                return <div key={`chat_${index}`}>{props.WhatsUpState.renderChatCard(chat, index)}</div>\n\n            } else {\n                return (\"\"\n                )\n            }\n        })\n    }\n\n    function sortChats(chats) {\n        return chats.sort((a, b) => {\n            const aDate = a.last_message && a.last_message.created ? getDateTime(a.last_message.created, props.WhatsUpState.offset) : getDateTime(a.created, props.WhatsUpState.offset)\n            const bDate = b.last_message && b.last_message.created ? getDateTime(b.last_message.created, props.WhatsUpState.offset) : getDateTime(b.created, props.WhatsUpState.offset)\n            return new Date(bDate) - new Date(aDate);\n        })\n    }\n\n    function onGetChats(chatList) {\n        const oldChats = chats !== null ? chats : {}\n        const newChats = _.mapKeys({ ...chatList }, 'id')\n        const allChats = { ...oldChats, ...newChats }\n        setChats(allChats);\n        (count && count > Object.keys(allChats).length) && setHasMoreChats(false);\n    }\n\n    useEffect(() => {\n        if (!didMountRef.current && name && secret) {\n            didMountRef.current = true\n\n            getLatestChats(\n                props.WhatsUpState,\n                count,\n                (chats) => {\n                    onGetChats(chats)\n                    const chatList = sortChats(chats)\n                    chatList.length > 0 && setActiveChat(chatList[0].id)\n                }\n            )\n        }\n    })\n\n    useEffect(() => {\n        if (!activeChat) {\n            activeConversation()\n        }\n    }, [chats, activeChat])\n\n    const chatList = sortChats(\n        chats ?\n            Object.values(chats) :\n            [{}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}, {}]\n    )\n    function activeConversation() {\n        if (chatList[0]) {\n            setActiveChat(chatList[0].id)\n        }\n    }\n    if (chats == null) return <div />;\n    return (\n        <div className=\"chat-left-wing\">\n            <div className=\"chat-bar\">\n                <div className=\"chat-bar-logo\">\n                    {(window.screen.availWidth > 700) ?\n                        <img src={logoSource} alt=\"\" /> :\n                        <div className=\"mobile-toggler\">\n                            <CloseOutlined\n                                onClick={() => {\n                                    document.querySelector(\".chat-container\").children[0].children[1].children[0].style.display = \"none\";\n                                    document.querySelector(\".chat-container\").children[0].children[1].children[1].style.display = \"block\";\n                                }}\n                            />\n                        </div>\n                    }\n                </div>\n                <div className=\"chat-bar-options\">\n                    <div className=\"chat-bar-option\">\n                        <UserOutlined\n                            onClick={\n                                () => {\n                                    if (editingProfile && (window.screen.availWidth > 1150)) {\n                                        setEditingProfile(!editingProfile)\n                                        document.querySelector(\".ce-chats-container\").style.height = \"530px\"\n                                    }\n                                    else if (!editingProfile && (window.screen.availWidth > 1150)) {\n                                        setEditingProfile(!editingProfile)\n                                        document.querySelector(\".ce-chats-container\").style.height = \"425px\"\n                                    }\n                                    else if (editingProfile && (window.screen.availWidth <= 1150)) {\n                                        setEditingProfile(!editingProfile)\n                                        document.querySelector(\".ce-chats-container\").style.height = \"calc(100vh - 76px)\"\n                                    } else {\n                                        setEditingProfile(!editingProfile)\n                                        document.querySelector(\".ce-chats-container\").style.height = \"calc(100vh - 166px)\"\n                                    }\n\n                                }\n                            }\n                        />\n                    </div>\n                    <div className=\"chat-bar-option\">\n                        <BgColorsOutlined onClick={() => {\n                            const themeValue = localStorage.getItem(\"theme\");\n                            if (themeValue === \"dark\") {\n                                setTheme(\"light\")\n                                localStorage.setItem(\"theme\", \"light\");\n                                document.querySelector(\".app\").classList.add(\"light\");\n                                setLogoSource(chatlogo)\n                            } else if (themeValue === \"light\") {\n                                setTheme(\"dark\")\n                                localStorage.setItem(\"theme\", \"dark\");\n                                document.querySelector(\".app\").classList.remove(\"light\");\n                                setLogoSource(chatLogo)\n                            }\n                        }} />\n                    </div>\n                    <div className=\"chat-bar-option\">\n                    \n                    <a href=\"https://github.com/dclif/WhatsUp\" target=\"_blank\"><GithubOutlined /></a>\n                    </div>\n                    <div className=\"chat-bar-option\">\n                        <DeleteOutlined onClick={() => {\n                            if (name === \"Dan\") {\n                                alert(\"Deleting conversations is disabled on sample account, sorry!\");\n                                return\n                            }\n\n                            if (window.confirm(\"Press OK if you want to delete active chat. Conversation with this person will be lost\")) {\n                                deleteActiveChat(activeChat)\n                            }\n\n                        }} />\n                    </div>\n                    <div className=\"chat-bar-option\"> <LogoutOutlined onClick={() => {\n                        if (window.confirm(\"Press OK if you want to logout\")) {\n                            fb.auth.signOut().then(console.log(\"logged out\"))\n                            document.querySelector(\".app\").classList.remove(\"light\");\n                        }\n                    }} /></div>\n                </div>\n            </div>\n            <div className=\"chat-left-wing-list\">\n                {editingProfile ?\n                    <ChatProfile\n                        chat={chat}\n                        conn={conn}\n                        name={props.WhatsUpState.userName}\n                        secret={props.WhatsUpState.userSecret}\n                    /> : \"\"}\n                <div style={styles.chatListContainer} className='ce-chat-list'>\n                    {\n                        props.WhatsUpState.renderNewChatForm ?\n                            props.WhatsUpState.renderNewChatForm(conn) :\n                            <NewChatForm onClose={props.WhatsUpState.onClose ? () => props.WhatsUpState.onClose() : undefined} />\n                    }\n                    <div style={styles.chatsContainer} className='ce-chats-container'>\n                        {renderChats(chatList)}\n                        {\n                            hasMoreChats && chatList.length > 0 &&\n                            <div>\n\n                                <div style={{ height: '8px' }} />\n                            </div>\n                        }\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nconst styles = {\n    chatListContainer: {\n        maxHeight: '100vh',\n        overflow: 'scroll',\n        overflowX: 'hidden',\n        backgroundColor: 'white',\n        fontFamily: 'Avenir'\n    },\n    chatsContainer: {\n        width: '100%',\n        borderRadius: '0px 0px 24px 24px'\n\n    },\n}\n\nexport default ChatList;","import React, { useState, useEffect } from \"react\";\nimport { ChatEngine } from \"react-chat-engine\";\nimport { useAuth } from \"context/AuthContext.js\";\nimport ChatCard from \"./ChatList/ChatCard\";\nimport ChatHeader from \"./ChatFeed/ChatHeader\";\nimport IsTyping from \"./ChatFeed/IsTyping\";\nimport ChatSettingsBox from \"./ChatSettings/ChatSettingsBox\";\nimport axios from \"axios\";\nimport NewChatForm from './ChatList/NewChatForm'\nimport NewMessageForm from './ChatFeed/NewMessageForm/NewMessageForm'\nimport MessageBubble from './ChatFeed/Bubble/MessageBubble'\nimport loadingAnimation from \"../../images/loading.svg\";\nimport ChatList from './ChatList/ChatList'\n\nexport const Chat = () => {\n  const { userObject, convertedName } = useAuth();\n  const [newAccountStatus, setNewAccountStatus] = useState(false);\n  const [chatHeight, setChatHeight] = useState(\"630px\");\n\n  useEffect(() => {\n    if (window.screen.width < 1150) {\n      setChatHeight(\"100vh\")\n    }\n  }, [])\n\n  useEffect(() => {\n    // Creates a new Chat Engine account\n    const data = {\n      username: convertedName,\n      secret: userObject.uid,\n    };\n    const config = {\n      method: \"post\",\n      url: \"https://api.chatengine.io/users/\",\n      headers: {\n        \"PRIVATE-KEY\": process.env.REACT_APP_CHAT_ENGINE_PRIVATE_KEY,\n      },\n      data: data,\n    };\n\n    axios(config)\n      .then(() => {\n        addDefaultChat(encodeURIComponent(\"sample account\"));\n        setNewAccountStatus(true);\n      })\n      .catch(() => {\n        console.log(\"This account is already created\");\n        setNewAccountStatus(true);\n      });\n  }, []);\n\n  function addDefaultChat(otherName) {\n    var myHeaders = new Headers();\n    myHeaders.append(\"Project-ID\", process.env.REACT_APP_PROJECT_ID);\n    myHeaders.append(\"User-Name\", convertedName);\n    myHeaders.append(\"User-Secret\", userObject.uid);\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    var raw = JSON.stringify({\n      is_direct_chat: true,\n      usernames: [convertedName, otherName],\n    });\n\n    var requestOptions = {\n      method: \"PUT\",\n      headers: myHeaders,\n      body: raw,\n      redirect: \"follow\",\n      contentType: \"application/json; charset=utf-8\",\n    };\n\n    fetch(\"https://api.chatengine.io/chats/\", requestOptions)\n      .then((response) => response.text())\n      .catch((error) => console.log(\"error\", error));\n  }\n\n  return (\n    <div className=\"chat-container\">\n      {convertedName && userObject && newAccountStatus ? (\n        <ChatEngine\n          offset={2}\n          projectID={process.env.REACT_APP_PROJECT_ID}\n          userName={convertedName}\n          userSecret={userObject.uid}\n          height={chatHeight}\n          renderChatList={(WhatsUpState) => { return <ChatList WhatsUpState={WhatsUpState} /> }}\n          renderChatCard={(chat, index) => { return <ChatCard chat={chat} index={index} /> }}\n          renderNewChatForm={(creds) => { return <NewChatForm creds={creds} /> }}\n          renderChatHeader={(creds) => { return <ChatHeader creds={creds} /> }}\n          renderIsTyping={(typers) => { return <IsTyping typers={typers} /> }}\n          renderChatSettings={() => { return <ChatSettingsBox /> }}\n          renderNewMessageForm={(creds, chatId) => { return <NewMessageForm creds={creds} chatId={chatId} /> }}\n          renderMessageBubble={(creds, chat, lastMessage, message, nextMessage) => { return <MessageBubble creds={creds} chat={chat} lastMessage={lastMessage} message={message} nextMessage={nextMessage} /> }}\n        />\n      ) : (\n        <div className=\"loading-image main-loader\"><img src={loadingAnimation} alt=\"\" /></div>\n      )}\n    </div>\n  );\n};\n","import * as Yup from 'yup';\n\nexport const defaultValues = {\n    userName: '',\n    password: ''   \n};\n\nexport const validationSchema = Yup.object().shape({\n    userName: Yup.string().required('Required').min(3, 'Must be at leat 3 characters'),\n    password: Yup.string().required('Required')\n   \n})","import { fb, facebookProvider, googleProvider } from \"service\";\nimport { useState } from \"react\";\nimport { FormField } from \"components\";\nimport { ErrorMessage, Formik, Form } from \"formik\";\nimport { useHistory } from \"react-router-dom\";\nimport { defaultValues, validationSchema } from \"./formikConfig\";\nimport { GoogleOutlined, FacebookOutlined, UserOutlined, LockOutlined, WhatsAppOutlined } from \"@ant-design/icons\";\nimport loadingAnimation from \"../../images/loading.svg\";\n\nexport const Login = () => {\n  const [serverError, setServerError] = useState(\"\");\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  function lowerLetters(str) {\n    return str.toLowerCase();\n  }\n  const login = ({ userName, password }, { setSubmitting }) => {\n    setLoading(true)\n    // @chat.engine added to login as Firebase requires email string\n    fb.auth\n      .signInWithEmailAndPassword(\n        `${encodeURIComponent(lowerLetters(userName))}@chat.engine`,\n        password\n      )\n      .then((res) => {\n\n        if (!res.user) {\n          setServerError(\n            \"We're having trouble logging you in. Please try again.\"\n          );\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        if (err.code === \"auth/wrong-password\") {\n          setServerError(\"Username or password is invalid\");\n        } else if (err.code === \"auth/user-not-found\") {\n          setServerError(\"No account for this username\");\n        } else {\n          setServerError(\"Something went wrong :(\");\n        }\n      })\n      .finally(() => {\n        setLoading(false)\n      });\n  };\n  return (\n    <div className=\"auth-form\">\n      <div className=\"logo\">\n        <WhatsAppOutlined />\n        <div className=\"logo-text\">\n          <div className=\"logo-text-first\">  Whats</div>\n          <div className=\"logo-text-second\">     Up</div>\n        </div>\n      </div>\n\n      <Formik\n        onSubmit={login}\n        validateOnMount={true}\n        initialValues={defaultValues}\n        validationSchema={validationSchema}\n      >\n        {({ isValid, isSubmitting }) => (\n          <Form>\n            <div className=\"login-fields\">\n              <div className=\"login-field\">\n                <UserOutlined />\n                <FormField name=\"userName\" placeholder=\"Username\" /></div>\n              <ErrorMessage component='div' name=\"userName\" className=\"error\" /> <br />\n              <div className=\"login-field\">\n                <LockOutlined />\n                <FormField name=\"password\" placeholder=\"Password\" type=\"password\" />\n              </div>\n              <ErrorMessage component='div' name=\"password\" className=\"error\" />\n            </div>\n            <div className=\"auth-link-container\">\n              Don't have an account?{\" \"}\n              <span\n                className=\"auth-link signup-text\"\n                onClick={() => history.push(\"signup\")}\n\n              >\n                Sign Up!\n              </span>\n            </div>\n            {!loading ?\n              <div className=\"login-buttons\">\n                <button type=\"submit\">\n                  Login\n                </button>\n                <button \n                className=\"sample-account-button\"\n                onClick={() => {\n\n                login({userName: \"Dan\", password: \"password123\"}, { setSubmitting: true })\n\n                }}>\n                  Sample Account\n                </button>\n              </div> : <div className=\"loading-image\"><img src={loadingAnimation} alt=\"\" /></div>}\n\n            {!!serverError && <div className=\"error server-error\">{serverError}</div>}\n          </Form>\n        )}\n      </Formik>\n\n      <div className=\"social-media\">\n        <div className=\"social-media-header\">\n          <hr /> Login with social media<hr />\n        </div>\n        <div className=\"social-login\">\n          <div\n            className=\"google\"\n            onClick={() => fb.auth.signInWithRedirect(googleProvider)}\n            \n          >\n            <GoogleOutlined /> Google\n          </div>\n          <div\n            className=\"google\"\n            onClick={() => fb.auth.signInWithRedirect(facebookProvider)}\n             \n          >\n            <FacebookOutlined /> Facebook\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import * as Yup from 'yup';\n\nexport const defaultValues = {\n    password: '',\n    userName: '',\n    verifyPassword: '',\n};\n\nexport const validationSchema = Yup.object().shape({\n\n    password: Yup.string().required('Required').min(8, 'Must be at least 8 characters'),\n    verifyPassword: Yup.string().required('Required').oneOf([Yup.ref('password'), null], 'Password must match'),\n    userName: Yup.string()\n        .required('Required')\n        .matches(\"^[A-Za-z0-9 ]*[A-Za-z0-9][A-Za-z0-9 ]*$\", 'Please use letters or numbers')\n        .min(3, 'Must be at least 3 characters')\n        .max(20, 'You have reached limit of characters')\n\n})","import { fb } from \"service\";\nimport { useState } from \"react\";\nimport { FormField } from \"components\";\nimport { ErrorMessage, Formik, Form } from \"formik\";\nimport { useHistory } from \"react-router-dom\";\nimport { validationSchema, defaultValues } from \"./formikConfig\";\nimport { UserOutlined, LockOutlined, WhatsAppOutlined } from \"@ant-design/icons\";\nimport loadingAnimation from \"../../images/loading.svg\";\n\nexport const Signup = () => {\n    const history = useHistory();\n    const [serverError, setServerError] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n\n    function lowerLetters(str) {\n        return str.toLowerCase();\n    }\n\n    const signup = ({ userName, password }, { setSubmitting }) => {\n        \n        setLoading(true)\n        //@chat.engine is added to login because of Firebase requiring email string\n        fb.auth\n            .createUserWithEmailAndPassword(\n                `${encodeURIComponent(lowerLetters(userName))}@chat.engine`,\n                password\n            )\n\n            .then((res) => {\n                console.log(\"Firebase account created\");\n            })\n\n            .catch((err) => {\n                if (err.code === \"auth/email-already-in-use\") {\n                    setServerError(\"An account with this username already exists\");\n                } else {\n                    setServerError(\n                        \"We're having trouble signing you up. Please try again.\"\n                    );\n                }\n            })\n            .finally(() => {\n                setSubmitting(false)\n                setLoading(false)\n            });\n    };\n    return (\n        <div className=\"auth-form signup-fields\">\n            <div className=\"logo\">\n                <WhatsAppOutlined />\n                <div className=\"logo-text\">\n                    <div className=\"logo-text-first\">  Whats</div>\n                    <div className=\"logo-text-second\">     Up</div>\n                </div>\n            </div>\n            <Formik\n                onSubmit={signup}\n                validateOnMount={true}\n                initialValues={defaultValues}\n                validationSchema={validationSchema}\n            >\n                {({ isValid, isSubmitting }) => (\n                    <Form>\n                        <div className=\"login-fields \">\n\n                            <div className=\"login-field\">\n                                <UserOutlined />\n                                <FormField name=\"userName\" placeholder=\"Username\" />\n                            </div>\n                            <ErrorMessage component='div' name=\"userName\" className=\"error\" />\n                            <div className=\"login-field\">\n                                <LockOutlined />\n                                <FormField name=\"password\" type=\"password\" placeholder=\"Password\" />\n                            </div>\n                            <ErrorMessage component='div' name=\"password\" className=\"error\" />\n                            <div className=\"login-field\">\n                                <LockOutlined />\n                                <FormField name=\"verifyPassword\" placeholder=\"Verify Password\" type=\"password\" />\n                            </div>\n                            <ErrorMessage component='div' name=\"verifyPassword\" className=\"error\" />\n                        </div>\n\n                        {!loading ?\n                            <button type=\"submit\">\n                                Sign Up \n                            </button> : <div className=\"loading-image\"><img src={loadingAnimation} alt=\"\" /></div>}\n\n\n                        <div className=\"auth-link-container already-account\">\n                            Already have an account?{\" \"}\n                            <span className=\"auth-link signup-text\" onClick={() => history.push(\"whatsup\")}>\n                                Log In!\n                            </span>\n                        </div>\n\n\n                    </Form>\n                )}\n            </Formik>\n            {!!serverError && <div className=\"error\">{serverError}</div>}\n        </div>\n    );\n};\n","import { Field } from 'formik';\n\nexport const FormField = ({ name, type = 'text', placeholder }) => (\n\n    <label>\n        <Field name={name} type={type} placeholder={placeholder} maxLength={20} />\n    </label>\n)\n\n\n","import './styles/index.scss';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from 'components';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}