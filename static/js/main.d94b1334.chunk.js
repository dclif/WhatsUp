(this.webpackJsonpwhatsup=this.webpackJsonpwhatsup||[]).push([[0],{265:function(e,t,a){},456:function(e,t,a){"use strict";a.r(t);a(265);var n=a(0),s=a.n(n),c=a(48),r=a.n(c),i=a(6),o=a(24),g=a(78);a(270),a(457),a(458);try{g.a.initializeApp({apiKey:"AIzaSyBoD9QJK8jywPvZzg4lquY3s6XJWJ_d32M",authDomain:"whatsup-c51f2.firebaseapp.com",projectId:"4bc7cf6c-58c3-4bb6-9e49-6e1e7557b045",storageBucket:"whatsup-c51f2.appspot.com",messagingSenderId:"445253639611",appId:"1:445253639611:web:ae037141ce2d817cfb389e"})}catch(st){/already exists/.test(st.message)||console.error("firebase admin init error",st.stack)}var l={auth:g.a.auth(),storage:g.a.storage(),firestore:g.a.firestore()},u=new g.a.auth.GoogleAuthProvider,d=new g.a.auth.FacebookAuthProvider,A=a(2),C=s.a.createContext(),I=function(){return Object(n.useContext)(C)},m=function(e){var t=e.children,a=Object(n.useState)(!0),s=Object(i.a)(a,2),c=s[0],r=s[1],g=Object(n.useState)({}),u=Object(i.a)(g,2),d=u[0],I=u[1],m=Object(n.useState)(),b=Object(i.a)(m,2),h=b[0],j=b[1],p=Object(o.f)();function x(e){return e.toLowerCase()}Object(n.useEffect)((function(){l.auth.onAuthStateChanged((function(e){e&&null==e.displayName?(I(e),j(x(e.email.substring(0,e.email.lastIndexOf("@")))),r(!1),p.push("/whatsup/")):e&&null!==e.displayName?(I(e),j(encodeURIComponent(x(e.displayName))),r(!1),p.push("/whatsup/")):(I(null),p.push("/whatsup"),r(!1))}))}),[p]);var f={userObject:d,convertedName:h};return Object(A.jsx)(C.Provider,{value:f,children:!c&&t})},b=a(82),h=function(){var e=Object(n.useState)("login"),t=Object(i.a)(e,2),a=t[0],s=t[1];return Object(n.useEffect)((function(){l.auth.onAuthStateChanged((function(e){e&&null==e.displayName||e&&null!==e.displayName?s("chat"):s("login")}))}),[]),Object(A.jsx)("div",{className:"app",children:Object(A.jsx)(b.a,{children:Object(A.jsx)(m,{children:Object(A.jsxs)(o.c,{children:["login"===a?Object(A.jsx)(o.a,{path:"/whatsup/",component:$e}):Object(A.jsx)(o.a,{exact:!0,path:"/whatsup/",component:Ze}),Object(A.jsx)(o.a,{path:"/signup",component:at})]})})})})},j=a(12),p=a(9),x=a(46),f=a.n(x),v="data:image/png;base64,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czpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgeG1sbnM6R0lNUD0iaHR0cDovL3d3dy5naW1wLm9yZy94bXAvIgogICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgIHhtcE1NOkRvY3VtZW50SUQ9ImdpbXA6ZG9jaWQ6Z2ltcDpiMzg1YmEyYi0yN2Y3LTRmNDMtOTBlMi1jYWExYWMxNjdjYmIiCiAgIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MmM3ZTFlMDYtODcyYS00OTNiLWEyM2QtZTU2NzFmMzY2OGI1IgogICB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NGJkYWRlY2EtYTE5Ni00ZGI4LWFmZTgtZjVlMWNlMzg1NTI5IgogICBkYzpGb3JtYXQ9ImltYWdlL3BuZyIKICAgR0lNUDpBUEk9IjIuMCIKICAgR0lNUDpQbGF0Zm9ybT0iV2luZG93cyIKICAgR0lNUDpUaW1lU3RhbXA9IjE2MjU4MDA0MjU5ODU0OTgiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4yNCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDplMjlmYWQwMi05YWIyLTQxNzctOGE2NS0xYzFiODgyNTdkODUiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoV2luZG93cykiCiAgICAgIHN0RXZ0OndoZW49IjIwMjEtMDctMDlUMDU6MTM6NDUiLz4KICAgIDwvcmRmOlNlcT4KICAgPC94bXBNTTpIaXN0b3J5PgogIDwvcmRmOkRlc2NyaXB0aW9uPgogPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+7sjJCgAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+UHCQMNLbdCL2oAAAYLSURBVHja7d0xa+NIGIDhuVNkBKpUGQxutjIY/P/b/IWAQVUagyGVKoPxYvaKw7nkdu/iZD1jjeZ5qlyzl9h+Nd9MIvuPx8fHHwG4uT89BCAuEBcgLhAXiAsQF4gLxAWIC8QF4gLEBeICcQHiAnGBuABxgbhAXIC4QFwgLkBcIC4QFyAuEBeICxAXiAvEBYgLxAXiAsQF4gJxAeICccEUPXgIxqeu69evq6p69/X5fH7978vX379/96CJi1+FVFVVqKoqzOfz0HXdl/+tYRjCy8tLOJ/P4Xw+i05cZca0WCx+K6Rf6brup3+z7/twPp/D8Xj04ItrmpqmiRLUR1ar1bvQTqeTFU1c09C27bsX+D1dvo9hGMJ+v7eaiUtUt3YZH4dhCLvdzkomrnz2VMvlMvn49zuR9X0fDoeDJ09c495Xrdfr7L7v1WplFYvAL5FvOAbmGNbbVWyz2bz7HRvisr+6IYGJS1gCE9fU91hTC0tg4rq7uq6z3mNdY7lceqLF5YUXQ9d1oWkaT7a40o6DOfwe6xbW67XxUFxpX3Almc1mnnRxxde2bXE/82q1snqJK80LrURWL3FF32u5qCCuCBaLhYsL4rq1uq6LOSF0cRFXUm/fKKZUpV9cxCWu6Cs44rKhd5ERl6u1fZe4AHEZheJwqCEucRmTxQXiKth8PvcgIC6MyeICcQHiAnGBuAghvLy8eBDeePvRsYgLxAXiMgYVy8cMiUtcEQzD4EEQF4jLGJQRJ6fiMg4ZkcXlii2uqfKB4x+43BjoRfXzY2JcFteXffv2zW3t/7LZbF6/3m634Xg8elCMhZ/Ttq2wPuCzu8T1pbHH+xRex6efiOtT3Gl7PRchcYkr8kqPuK7iDWlcjMQF4sqLU0Irl7hAXCAuQFwgruy4veRz/FGzuBCXuO5tv997EBCXK/H9R2j3dYnral4sVnlxRbTdbj0IV3CzpLi+9KJxaugCJK5IdrudB+E/9H1v1RLX7+29np6erGC/COtwOHggPuANaq4I7Pn5ObRtG+bzedF/MT8MQ9jtdg58xHVbh8MhPD8/h7quQ1VVYb1eF/OzPz09CcpYmGYl8zMjrkj8khlxcZN9FuIiAu+RLy57EMRlXLK/FBf/q5Q/WBWXuLzoIq3ORmBx2XdF4DBDXHfT9/2kf77T6eRJFpcXn5FQXJMbDae6erndRlxWL6uWuKxeVi1x8WmHw2Eyv1Tu+96qJS5X+xjjoDuMxTXK8TDnN2y53GWMuEbpeDxmG5jb98UlsAgrltv4xZVVYLmcIFqxxAXiAsQF4gJxAeICcYG4AHGBuEBcgLhAXCAuQFwgrpw1TRPm83kW3+tsNgt1XXvSIvCB4zeOarFYhK7rsvmeV6tVCOGf99Bw46S4RqOu6zCbzV5fpLnqui50XReGYQj7/T4cj0dPrrjuF9VyucxqlfpMZCH8/R6Gp9PJaiYuo1+skVFk4jL6JdiXGRnFJaoEI6N35xWX0c/IKC6rlJFRXFYpPhgZrWaFxmWVspqJK0JUU/zdlNVMXFYpq1lRq9lk47KXspqJS1DFr2ZTDS37uIx9xkZxWaUobGzMLq62ba1SVjNxiYpbrma5RfYgKnKMLIe7ph9EhcgKiatpmrBer72CyD6yB1EhsonG5e/9uHVkY7mR80FUTM1lr77dbu96sniXuBxWkMJlm3GvyB5ERQmR3WM/luztrJumERZ33Y9tNpuk/0/vFU9RUr4vfrK4qqryzFKUZHHl8qkfTFvKi3yyuBy5I67M51wobiyEMUi5PUkSl8MMxiLl9kRcFCfVNsVYCDnH5RieMUk1SSWJyzE84sp4voWxTVL2XJBrXE4KGZtU2xRxUaQU25XocTkpZIxSXPTtuSDXuBzDY+XKdK6FsW5XjIUUKcVEFTUuJ4XYc4mLAsXetkSNyzE8Yxb74h81LieFGAvBypVPXI7hGbvY25ZocTnMYOxib1uMhRQt5oRl5YLc4nIMTw5iLgLR4nIMj7gym2Oh+LEQchBz+xIlLocZ5CLm9kVcFC/WNsZYCDmtXI7hyUmsSStKXI7hEVcIfwE3vW4pmErq7wAAAABJRU5ErkJggg==",O={chatContainer:{padding:"16px",paddingBottom:"12px",cursor:"pointer"},titleText:{fontWeight:"500",paddingBottom:"4px",whiteSpace:"nowrap",overflow:"hidden"},status:{width:"8px",height:"8px",borderRadius:"100%",border:"2px solid #d3d8e4de",position:"absolute",top:"35px"},messageText:{width:"100%",color:"var(--gray-text)",fontSize:"13px",whiteSpace:"nowrap",overflow:"hidden",display:"inline-block"},activeChat:{backgroundColor:"#d9d9d9",border:"4px solid white",borderRadius:"12px"}},y=function(e){var t=Object(n.useContext)(j.e),a=t.conn,s=t.activeChat,c=t.setActiveChat,r=e.chat;if(!a||null===a)return Object(A.jsx)("div",{});if(!r)return Object(A.jsx)("div",{});var i=s===r.id?O.activeChat:{},o=r.people.find((function(e){return e.person.username!==a.userName})),g=o?o.person.username:"",l=o?function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(t?e.toLowerCase():e).replace(/(?:^|\s|["'([{])+\S/g,(function(e){return e.toUpperCase()}))}(decodeURIComponent(g)):"",u=r.last_message.text;u||(u=r.last_message.attachments.length>0?"".concat(r.last_message.attachments.length," image").concat(r.last_message.attachments.length>1?"s":""):"Say hello!");return Object(A.jsxs)("div",{onClick:function(){return c(r.id)},style:Object(p.a)(Object(p.a)({},O.chatContainer),i),className:"ce-chat-card ".concat(s===r.id&&"ce-active-chat-card"),children:[o&&o.person.avatar?Object(A.jsx)("div",{className:"avatar-online",children:Object(A.jsx)(j.b,{avatar:o.person.avatar?o.person.avatar:"",username:o.person.username,is_online:o.person.is_online})}):Object(A.jsxs)("div",{className:"avatar-online",children:[Object(A.jsx)("div",{className:"ce-avatar-status",style:Object(p.a)(Object(p.a)({},O.status),{backgroundColor:o&&o.person.is_online?"#52c41a":"#f5222d"})}),Object(A.jsx)("img",{src:v,className:"chat-card-avatar",style:{borderRadius:"50%",width:"40px"},alt:""})]}),Object(A.jsxs)("div",{className:"chat-card-info",children:[Object(A.jsx)("div",{style:O.titleText,className:"ce-chat-title-text",id:"ce-chat-card-title-".concat(l),children:l}),Object(A.jsx)("div",{style:{width:"100%"},className:"ce-chat-subtitle",children:Object(A.jsx)("div",{style:O.messageText,className:"ce-chat-subtitle-text ce-chat-subtitle-message",children:"Dan"===a.userName?"Say Hello":u})})]}),Object(A.jsxs)("div",{className:"chat-card-activity",children:[Object(A.jsx)("div",{className:"chat-card-activity-time",children:r.last_message.created&&r.last_message.created.length>0?"".concat(function(e){if(!e)return"";var t=function(e){if(!e)return"";var t=(e=e.replace(" ","T")).substr(0,4),a=e.substr(5,2),n=e.substr(8,2),s=e.substr(11,2),c=e.substr(14,2),r=e.substr(17,2),i=new Date("".concat(t,"-").concat(a,"-").concat(n,"T").concat(s,":").concat(c,":").concat(r)),o=-i.getTimezoneOffset()/60;return i.setHours(i.getHours()+o),i}(e),a=t.toString(),n=a.substr(3,7),s=a.substr(15,6);return function(e){var t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}(t)?s:n}(r.last_message.created)):""}),!function(e){var t=!0;return e.people.map((function(n){return a.userName===n.person.username&&(t=e.last_message.id===n.last_read),""})),t}(r)&&Object(A.jsx)("div",{className:"ce-chat-unread-dot",style:{width:"12px",height:"12px",borderRadius:"6px",backgroundColor:"var(--own-msg-color)",display:"inline-block",marginTop:"15px",marginLeft:"10px"}})]})]})},w=a(11),N=a(474);Object(w.setConfiguration)({maxScreenClass:"xl",gutterWidth:0});var S=function(e){var t=Object(n.useContext)(j.e),a=t.conn,s=t.chats,c=t.activeChat;if(!s||!c||!s[c])return Object(A.jsx)("div",{});if(!a||null===a)return Object(A.jsx)("div",{});var r=s[c],i=r.people.find((function(e){return e.person.username!==a.userName})),o=i?i.person.first_name:"",g=i?function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(t?e.toLowerCase():e).replace(/(?:^|\s|["'([{])+\S/g,(function(e){return e.toUpperCase()}))}(decodeURIComponent(i.person.username)):"";return Object(A.jsxs)(w.Row,{className:"ce-chat-title",style:R.titleSection,children:[Object(A.jsx)("div",{className:"mobile-toggler",children:Object(A.jsx)(N.a,{onClick:function(){document.querySelector(".chat-container").children[0].children[1].children[0].style.display="block",document.querySelector(".chat-container").children[0].children[1].children[1].style.display="none"}})}),Object(A.jsxs)(w.Col,{xs:8,sm:12,style:R.titleContainer,className:"ce-chat-title-container",children:[i&&i.person.avatar?Object(A.jsx)(j.b,{avatar:i.person.avatar?i.person.avatar:"",username:i.person.username,is_online:i.person.is_online}):Object(A.jsx)("img",{src:v,className:"chat-card-avatar",style:{borderRadius:"50%",width:"40px"},alt:""}),Object(A.jsxs)("div",{className:"ce-chat-header-container",children:[Object(A.jsx)("div",{style:R.titleText,className:"ce-chat-title-text",id:"ce-chat-feed-title-".concat(g),children:g}),Object(A.jsx)("div",{style:R.subtitleText,className:"ce-chat-subtitle-text",children:o||(r.last_message.created&&r.last_message.created.length>0?"Active ".concat(function(e){if(!e)return"";var t=function(e){if(!e)return"";var t=(e=e.replace(" ","T")).substr(0,4),a=e.substr(5,2),n=e.substr(8,2),s=e.substr(11,2),c=e.substr(14,2),r=e.substr(17,2),i=new Date("".concat(t,"-").concat(a,"-").concat(n,"T").concat(s,":").concat(c,":").concat(r)),o=-i.getTimezoneOffset()/60;return i.setHours(i.getHours()+o),i}(e),a=t.toString(),n=a.substr(0,10),s=a.substr(15,6);return"".concat(n," at ").concat(s)}(r.last_message.created)):"Say hello!")})]})]})]})},R={titleSection:{position:"absolute",top:"0px",width:"100%",zIndex:"1",backgroundColor:"rgb(256, 256, 256, 0.92)",fontFamily:"Avenir"},mobileOptiom:{width:"100%",top:"32px",textAlign:"center",color:"rgb(24, 144, 255)",overflow:"hidden"},titleContainer:{width:"100%",padding:"18px 0px",textAlign:"left",color:"rgb(24, 144, 255)"},titleText:{fontSize:"24px",fontWeight:"600"},subtitleText:{fontSize:"12px"}},k=function(){var e=Object(n.useRef)(!1),t=Object(n.useState)(Date.now()),a=Object(i.a)(t,2),s=a[0],c=a[1],r=Object(n.useContext)(j.e),o=r.conn,g=r.activeChat,l=r.typingCounter,u=l&&l[g]?l[g]:[],d=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(t?e.toLowerCase():e).replace(/(?:^|\s|["'([{])+\S/g,(function(e){return e.toUpperCase()}))};return Object(n.useEffect)((function(){e.current||(e.current=!0,setInterval((function(){c(Date.now())}),1e3))})),o&&null!==o?Object(A.jsx)("div",{children:Object.keys(u).map((function(e,t){return o.userName!==e&&s<u[e]+2e3?Object(A.jsx)("div",{style:{color:"var(--paperclip-color)",paddingLeft:"10px",position:"relative"},children:"".concat(d(decodeURIComponent(e))," is typing...")},"typer_".concat(t)):Object(A.jsx)("div",{},"typer_".concat(t))}))}):Object(A.jsx)("div",{})},U=function(){return Object(A.jsx)("div",{className:"chat-settings-box"})},L=a(17),M=a.n(L),W=a(478),F=function(e){var t=Object(n.useContext)(j.e).conn,a=Object(n.useState)(""),s=Object(i.a)(a,2),c=s[0],r=s[1],o=Object(n.useState)(""),g=Object(i.a)(o,2),l=g[0],u=g[1],d=I().convertedName;function C(e,a){if(e){var n=a||encodeURIComponent(c.toLowerCase());if(n===d)u("This is your own nickname!"),setTimeout((function(){return u("")}),5e3);else{var s=new Headers;s.append("PRIVATE-KEY","6359afcd-8e17-4548-af8b-c325fd81408e"),fetch("https://api.chatengine.io/users/",{method:"GET",headers:s,redirect:"follow"}).then((function(e){return e.json()})).then((function(e){e.some((function(e){return e.username===n}))?Object(j.o)(t,{is_direct_chat:!0,usernames:[n]},(function(){r(""),u("")})):(u("There is no such user"),setTimeout((function(){return u("")}),5e3))}))}}}return Object(A.jsxs)("div",{children:[Object(A.jsxs)("form",{onSubmit:function(a){a.preventDefault(),"Dan"!==t.userName?"dan"!==c.toLowerCase()?C(e.creds):alert("Adding conversations with sample account is disabled, sorry!"):alert("Adding conversations is disabled on sample account, sorry!")},children:[Object(A.jsx)("input",{placeholder:"Add new chat",value:c,onChange:function(e){return r(e.target.value)},required:!0}),Object(A.jsx)(W.a,{onClick:function(){"Dan"!==t.userName?"dan"!==c.toLowerCase()?C(e.creds):alert("Adding conversations with sample account is disabled, sorry!"):alert("Adding conversations is disabled on sample account, sorry!")}})]}),Object(A.jsx)("div",{className:"newChatError",children:l})]})},D=a(476),E=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(""),o=Object(i.a)(r,2),g=o[0],l=o[1];return Object(n.useEffect)((function(){l(URL.createObjectURL(e.file))}),[e.file]),Object(A.jsxs)("div",{style:{padding:"12px 6px",display:"inline-block",position:"relative"},onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},children:[Object(A.jsx)("img",{style:B.imageSquare,alt:e.file?e.file.name:"",src:g}),s&&Object(A.jsx)(D.a,{style:B.closeIcon,onClick:function(){return e.onRemove&&e.onRemove()}})]})},B={imageSquare:{height:"108px",width:"108px",border:"1px solid #afafaf",borderRadius:"8px",objectFit:"cover",display:"inline"},closeIcon:{position:"absolute",bottom:"calc(100% - 32px)",left:"96px",width:"0px",cursor:"pointer"}},T=function(e){return Object(A.jsx)("div",{style:{width:"50px",paddingLeft:"12px",position:"absolute",bottom:"70px"},children:e.files.map((function(t,a){return Object(A.jsx)(E,{file:t,onRemove:function(){return e.onRemove&&e.onRemove(a)}},"thumb_".concat(a))}))})},X=a(477),z=function(e){var t=Object(n.useState)({hovered:!1}),a=Object(i.a)(t,2),s=a[0],c=a[1];return Object(A.jsxs)("div",{className:"uploader",encType:"multipart/form-data",style:{height:"0px"},children:[Object(A.jsx)("label",{htmlFor:"files",id:"upload-document-button",children:Object(A.jsx)(X.a,{onMouseEnter:function(){return c(Object(p.a)(Object(p.a)({},s),{},{hovered:!0}))},onMouseLeave:function(){return c(Object(p.a)(Object(p.a)({},s),{},{hovered:!1}))},style:Object(p.a)(Object(p.a)({},{cursor:"pointer",position:"absolute",bottom:"20px",right:"63px",fontSize:"18px"}),{color:s.hovered?"#69c0ff":"#1890ff"})})}),Object(A.jsx)("input",{id:"files",accept:"image/x-png,image/gif,image/jpeg",style:{visibility:"hidden"},type:"file",onChange:function(t){return function(t){var a=Array.from(t.target.files);e.onSelectFiles&&e.onSelectFiles(a)}(t)},onClick:function(e){return e.target.value=null}})]})},G=a(18),Y=a(29),Z=a(30),H=a(31),P=function(e){Object(Z.a)(a,e);var t=Object(H.a)(a);function a(){var e;Object(G.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={focused:!1,value:null,height:0},e}return Object(Y.a)(a,[{key:"resize",value:function(){var e=document.getElementById("msg-textarea");e.style.height="",e.style.height=Math.min(e.scrollHeight,150)+"px",this.setState({height:Math.min(e.scrollHeight,150)})}},{key:"componentDidMount",value:function(){this.resize()}},{key:"handleChange",value:function(e){this.resize(),this.props.handleChange&&this.props.handleChange(e)}},{key:"onKeyDown",value:function(e){"Enter"===e.key&&(e.preventDefault(),this.props.value.length>0&&this.props.onSubmit&&this.props.onSubmit(e))}},{key:"render",value:function(){var e=this,t=Object(p.a)(Object(p.a)({},J.input),{overflowY:150===this.state.height?"scroll":"hidden"});return Object(A.jsx)("textarea",{id:"msg-textarea",className:"ce-input ce-textarea-input",rows:"1",style:t,value:this.props.value,placeholder:this.props.label,onBlur:function(){return e.setState({focused:!1})},onFocus:function(){return e.setState({focused:!0})},type:this.props.type?this.props.type:"text",onChange:function(t){return e.handleChange(t)},onKeyDown:function(t){return e.onKeyDown(t)},maxLength:"120",required:!0})}}]),a}(n.Component),J={input:{border:"1px solid white",width:"calc(100% - 64px - 24px - 44px)",outline:"none",fontSize:"15px",fontFamily:"Avenir",paddingLeft:"12px",paddingRight:"12px",position:"relative",left:"12px",resize:"none",overflowX:"hidden"}},K=void 0,q=function(){var e=Object(n.useContext)(j.e),t=e.conn,a=e.activeChat,s=Object(n.useState)({trigger:0,mod:3,value:"",attachments:[]}),c=Object(i.a)(s,2),r=c[0],o=c[1];if(!t||null===t)return Object(A.jsx)("div",{});function g(e){if(e.preventDefault(),"Dan"!==t.userName){var n=r.attachments,s=r.value.trim(),c={text:s,attachments:n,custom_json:{sender_id:Date.now().toString()},sender_username:t.userName?t.userName:t.senderUsername,chat:a};(s.length>0||n.length>0)&&Object(j.u)(t,a,c,(function(e){})),o(Object(p.a)(Object(p.a)({},r),{},{value:"",attachments:[]})),document.getElementById("msg-textarea").style.height="24px"}}return Object(A.jsxs)("div",{id:"msg-form-container",style:V.NewMessageFormContainer,className:"ce-message-form-container",children:[Object(A.jsx)(T,{files:r.attachments,onRemove:function(e){return function(e){var t=r.attachments;t.splice(e,1),o(Object(p.a)(Object(p.a)({},r),{},{attachments:t}))}(e)}}),Object(A.jsxs)("form",{onSubmit:g.bind(K),className:"ce-message-form",children:[Object(A.jsxs)("div",{style:V.inputContainer,className:"ce-message-input-form",children:[Object(A.jsx)(z,{onSelectFiles:function(e){return o(Object(p.a)(Object(p.a)({},r),{},{attachments:e}))}}),Object(A.jsx)(P,{value:r.value,label:"Send a message...",handleChange:function(e){o(Object(p.a)(Object(p.a)({},r),{},{value:e.target.value,trigger:(r.trigger+1)%r.mod})),1===r.trigger&&Object(j.q)(t,a)}.bind(K),onSubmit:g.bind(K)})]}),Object(A.jsx)("button",{icon:"send",type:"submit",id:"ce-send-message-button",style:{},children:Object(A.jsx)("img",{src:"data:image/png;base64,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",className:"send-icon",alt:""})})]})]})},V={NewMessageFormContainer:{position:"absolute",bottom:"0px",width:"100%",backgroundColor:"white"},inputContainer:{minHeight:"36px",paddingTop:"10px",paddingBottom:"6px"}};function Q(e,t){if(!e)return"";t=t||0;var a=(e=e.replace(" ","T")).substr(0,4),n=e.substr(5,2),s=e.substr(8,2),c=e.substr(11,2),r=e.substr(14,2),i=e.substr(17,2),o=new Date("".concat(a,"-").concat(n,"-").concat(s,"T").concat(c,":").concat(r,":").concat(i));return o.setHours(o.getHours()+t),o}var _={weekday:"short",month:"short",day:"numeric",year:"numeric"};function $(e){var t=e.toLocaleString("en-GB");return t.split(" ")[1].slice(0,-3)+" "+t.slice(-2)}function ee(e){return e.toLocaleString("en-GB",_)}var te=function(e){var t=e.lastCreated,a=e.created;function n(e){return e?e.substr(0,10):null}var s,c=n(t),r=n(a);return t&&c===r?Object(A.jsx)("div",{}):Object(A.jsx)("div",{style:ae.dateText,className:"ce-message-date-text",children:(s=Q(a,e.offset),$(s)+", "+ee(s))})},ae={dateText:{width:"100%",textAlign:"center",paddingTop:"4px",paddingBottom:"10px",fontSize:"15px",color:"rgba(0, 0, 0, .40)"}},ne=["jpg","jpeg","png","gif","tiff"],se=function(e){var t=e.split(".");return t.length>0&&-1!==ne.indexOf(t[t.length-1].toLowerCase())},ce=function(e){var t=e.split("/");return t[t.length-1].split("?")[0]},re=a(472),ie=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),s=a[0],c=a[1],r=e.attachment,o=Object(p.a)(Object(p.a)({},oe.thumbnail),{border:s?"1px solid #1890ff":"1px solid #fff"});return r?Object(A.jsx)("img",{onClick:function(){return window.open(r.file)},onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},src:r.file,alt:"thumb-nail",style:o}):Object(A.jsx)("div",{style:oe.loadingContainer,children:Object(A.jsx)(re.a,{style:{color:"white",padding:"4px",fontSize:"24px"}})})},oe={loadingContainer:{cursor:"pointer",textAlign:"right",display:"inline-block",objectFit:"cover",borderRadius:"0.3em",marginRight:"2px",marginBottom:"4px",height:"30vw",width:"30vw",maxHeight:"200px",maxWidth:"200px",minHeight:"100px",minWidth:"100px",backgroundColor:"#d9d9d9"},thumbnail:{cursor:"pointer",textAlign:"right",display:"inline",objectFit:"cover",borderRadius:"0.3em",paddingRight:"2px",height:"30vw",width:"30vw",maxHeight:"200px",maxWidth:"200px",minHeight:"100px",minWidth:"100px"}},ge=a(475),le=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),s=a[0],c=a[1],r=e.attachment,o=Object(p.a)(Object(p.a)({},ue.fileView),{color:s?"#1890ff":"#434343",border:s?"1px solid #1890ff":"1px solid #434343"});return r?Object(A.jsxs)("div",{style:o,onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},onClick:function(){return window.open(r.file)},children:[Object(A.jsx)(ge.a,{})," ",ce(r.file)]}):Object(A.jsx)("div",{style:ue.loadingContainer,children:Object(A.jsx)(re.a,{style:{color:"white",padding:"4px",fontSize:"24px"}})})},ue={loadingContainer:{display:"inline-block",borderRadius:"14px",marginRight:"2px",height:"48px",width:"136px",marginBottom:"4px",marginLeft:"4px",backgroundColor:"#d9d9d9"},fileView:{padding:"12px",borderRadius:"14px",display:"inline-block",marginBottom:"4px",marginRight:"2px",cursor:"pointer"}},de=function(e){Object(Z.a)(a,e);var t=Object(H.a)(a);function a(){var e;Object(G.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={avatar:""},e}return Object(Y.a)(a,[{key:"updateImg",value:function(){var e=this.props.avatar;(e=e&&null!==e?e:"").split("?")[0]!==this.state.avatar.split("?")[0]&&this.setState({avatar:e})}},{key:"componentDidMount",value:function(){this.updateImg()}},{key:"componentDidUpdate",value:function(){this.updateImg()}},{key:"render",value:function(){var e=this.props.style?this.props.style:{};return Object(A.jsx)("div",{className:"ce-avatar-dot",style:Object(p.a)(Object(p.a)(Object(p.a)({},Ae.dot),e),{backgroundColor:this.state.avatar?"white":"green",backgroundImage:this.state.avatar&&"url(".concat(this.state.avatar,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"14px"})})}}]),a}(n.Component),Ae={dot:{width:"13px",height:"13px",borderRadius:"13px",textAlign:"center"}},Ce=function(e){var t=e.text?e.text:"";return t=(t=t.replaceAll("<p>","<div>").replaceAll("</p>","</div>")).replaceAll("<a ",'<a style="color: '.concat(e.myMessage?"white":"#1890ff",';" ')),Object(A.jsx)("div",{className:"ce_message",dangerouslySetInnerHTML:{__html:t}})};Object(w.setConfiguration)({maxScreenClass:"xl"});var Ie=function(e){var t=Object(n.useContext)(j.e).conn,a=Object(n.useState)(!1),s=Object(i.a)(a,2),c=s[0],r=s[1];var o=e.lastMessage,g=e.message,l=e.nextMessage;if(!g)return Object(A.jsx)("div",{});var u=g&&g.attachments&&g.attachments,d=o&&o.sender_username===g.sender_username?"0.3em":"1.3em",C=l&&l.sender_username===g.sender_username?"0.3em":"1.3em",I="1.3em ".concat(d," ").concat(C," 1.3em"),m=l&&l.sender_username===g.sender_username?"2px":"12px";return Object(A.jsxs)("div",{className:"ce-message-row ce-my-message",style:{width:"100%",textAlign:"right",paddingBottom:m},children:[Object(A.jsx)("div",{style:{display:"auto"},className:"ce-my-message-attachments-container ce-my-message-images-container",children:function(){var t=e.message;return(t&&t.attachments?t.attachments:[]).map((function(e,t){var a=ce(e.file);return se(a)?Object(A.jsx)(ie,{attachment:e},"attachment_".concat(t)):Object(A.jsx)("div",{},"attachment".concat(t))}))}()}),Object(A.jsx)("div",{style:{display:"auto"},className:"ce-my-message-attachments-container ce-my-message-files-container",children:function(){var t=e.message;return(t&&t.attachments?t.attachments:[]).map((function(e,t){var a=ce(e.file);return se(a)?Object(A.jsx)("div",{},"attachment".concat(t)):Object(A.jsx)(le,{attachment:e},"attachment_".concat(t))}))}()}),Object(A.jsxs)(w.Row,{style:{paddingRight:"2px"},className:"ce-message-bubble-row ce-my-message-bubble-row",children:[Object(A.jsxs)(w.Col,{xs:12,sm:12,md:12,children:[c&&Object(A.jsx)("span",{style:{position:"relative",top:"calc(50% - 12px)",right:"8px",fontSize:"14px",color:"rgb(24, 144, 255)"},children:function(e){var t=e.toLocaleString("en-US");return t.split(" ")[1].slice(0,-3)+" "+t.slice(-2)}(function(e,t){if(!e)return"";t=t||0;var a=(e=e.replace(" ","T")).substr(0,4),n=e.substr(5,2),s=e.substr(8,2),c=e.substr(11,2),r=e.substr(14,2),i=e.substr(17,2),o=new Date("".concat(a,"-").concat(n,"-").concat(s,"T").concat(c,":").concat(r,":").concat(i));return o.setHours(o.getHours()+t),o}(g.created,null!==t&&t.offset))}),!u||g.text&&Object(A.jsx)("div",{className:"ce-message-bubble ce-my-message-bubble",style:Object(p.a)(Object(p.a)({},me.myMessage),{borderRadius:I}),onMouseEnter:function(){return r(!0)},onMouseLeave:function(){return r(!1)},children:Object(A.jsx)(Ce,{myMessage:!0,text:g.text})})]}),Object(A.jsx)(w.Col,{xs:1,sm:2,md:3}),Object(A.jsx)(w.Col,{xs:12,className:"ce-reads-row ce-my-reads-row",children:function(){var a=e.chat,n=e.message;return a?a.people.map((function(e,a){return n.id===e.last_read&&e.person.username!==t.userName?Object(A.jsx)(de,{avatar:e.person.avatar,username:e.person.username,style:{float:"right",marginLeft:"4px"}},"read_".concat(a)):Object(A.jsx)("div",{},"read_".concat(a))})):Object(A.jsx)("div",{})}()})]})]})},me={myMessage:{color:"white",cursor:"pointer",float:"right",textAlign:"left",padding:"12px",fontSize:"15px",whiteSpace:"pre-line",backgroundColor:"rgb(24, 144, 255)",overflowWrap:"anywhere",maxWidth:"calc(100% - 100px)"}};Object(w.setConfiguration)({maxScreenClass:"xl"});var be=function(e){var t=Object(n.useContext)(j.e).conn,a=Object(n.useState)(!1),s=Object(i.a)(a,2),c=s[0],r=s[1];var o=e.lastMessage,g=e.message,l=e.nextMessage;if(!g)return Object(A.jsx)("div",{});var u=g&&g.attachments&&g.attachments,d=o&&o.sender_username===g.sender_username?"0.3em":"1.3em",C=l&&l.sender_username===g.sender_username?"0.3em":"1.3em",I="".concat(d," 1.3em 1.3em ").concat(C),m=l&&l.sender_username===g.sender_username?"2px":"12px";return Object(A.jsxs)("div",{style:{width:"100%",paddingBottom:m},className:"ce-message-row ce-their-message",children:[(!o||o.sender_username!==g.sender_username)&&Object(A.jsx)("div",{style:he.nameText,className:"ce-their-message-sender",children:g.sender_username}),Object(A.jsxs)(w.Row,{style:{paddingLeft:"2px"},className:"ce-their-message-row",children:[Object(A.jsxs)(w.Col,{xs:12,sm:12,md:12,children:[Object(A.jsx)("div",{style:{height:"0px"},className:"ce-their-message-avatar",children:(!l||l.sender_username!==g.sender_username)&&Object(A.jsx)(j.b,{show_online:!1,username:g.sender_username,avatar:g.sender&&g.sender.avatar})}),Object(A.jsx)("div",{style:{display:"auto",paddingLeft:"50px"},className:"ce-their-message-attachments-container ce-their-message-images-container",children:function(){var t=e.message;return(t&&t.attachments?t.attachments:[]).map((function(e,t){var a=ce(e.file);return se(a)?Object(A.jsx)(ie,{attachment:e},"attachment_".concat(t)):Object(A.jsx)("div",{},"attachment".concat(t))}))}()}),Object(A.jsx)("div",{style:{display:"auto",paddingLeft:"50px"},className:"ce-their-message-attachments-container ce-their-message-files-container",children:function(){var t=e.message;return(t&&t.attachments?t.attachments:[]).map((function(e,t){var a=ce(e.file);return se(a)?Object(A.jsx)("div",{},"attachment".concat(t)):Object(A.jsx)(le,{attachment:e},"attachment_".concat(t))}))}()}),!u||g.text&&Object(A.jsx)("div",{style:{paddingLeft:"48px"},children:Object(A.jsx)("div",{className:"ce-message-bubble ce-their-message-bubble",style:Object(p.a)(Object(p.a)({},he.theirMessage),{borderRadius:I}),onMouseEnter:function(){return r(!0)},onMouseLeave:function(){return r(!1)},children:Object(A.jsx)(Ce,{text:g.text})})}),c&&Object(A.jsx)("span",{style:{position:"relative",top:"calc(50% - 12px)",left:"8px",fontSize:"14px",color:"rgba(0, 0, 0, 0.4)"},children:function(e){var t=e.toLocaleString("en-US");return t.split(" ")[1].slice(0,-3)+" "+t.slice(-2)}(function(e,t){if(!e)return"";t=t||0;var a=(e=e.replace(" ","T")).substr(0,4),n=e.substr(5,2),s=e.substr(8,2),c=e.substr(11,2),r=e.substr(14,2),i=e.substr(17,2),o=new Date("".concat(a,"-").concat(n,"-").concat(s,"T").concat(c,":").concat(r,":").concat(i));return o.setHours(o.getHours()+t),o}(g.created,null!==t&&t.offset))})]}),Object(A.jsx)(w.Col,{xs:9,style:{marginLeft:"48px"},className:"ce-reads-row ce-their-reads-row",children:function(){var t=e.chat,a=e.message;return t?t.people.map((function(e,t){return a.id===e.last_read?Object(A.jsx)(j.f,{avatar:e.person.avatar,username:e.person.username,style:{float:"left",marginLeft:"4px"}},"read_".concat(t)):Object(A.jsx)("div",{},"read_".concat(t))})):Object(A.jsx)("div",{})}()})]})]})},he={theirMessage:{cursor:"pointer",color:"black",float:"left",padding:"12px",fontSize:"15px",whiteSpace:"pre-line",backgroundColor:"#f1f0f0",overflowWrap:"anywhere",maxWidth:"calc(100% - 100px)"},nameText:{paddingLeft:"62px",paddingBottom:"2px",color:"rgba(0, 0, 0, .40)",fontSize:"15px"}};Object(w.setConfiguration)({maxScreenClass:"xl"});var je=0,pe=function(e){var t=Object(n.useRef)(!1),a=Object(n.useContext)(j.e).setConnecting;Object(n.useEffect)((function(){return t.current||(t.current=!0,je=setTimeout((function(){a(!0)}),5e3)),function(){clearInterval(je)}}));var s=e.lastMessage,c=e.message,r=e.nextMessage;if(!c)return Object(A.jsx)("div",{});var i=c&&c.attachments?c.attachments:[],o=s&&s.sender_username===c.sender_username?"0.3em":"1.3em",g=r&&r.sender_username===c.sender_username?"0.3em":"1.3em",l="1.3em ".concat(o," ").concat(g," 1.3em"),u=r&&r.sender_username===c.sender_username?"2px":"12px";return Object(A.jsxs)("div",{className:"ce-message-row ce-my-message ce-my-message-sending",style:{width:"100%",textAlign:"right",paddingBottom:u},children:[Object(A.jsx)("div",{style:{display:"auto"},className:"ce-my-message-attachments-container ce-my-message-images-container",children:function(e){return e.map((function(e,t){return se(e.name)?Object(A.jsx)(ie,{},"attachment_".concat(t)):Object(A.jsx)("div",{},"attachment".concat(t))}))}(i)}),Object(A.jsx)("div",{style:{display:"auto"},className:"ce-my-message-attachments-container ce-my-message-files-container",children:function(e){return e.map((function(e,t){return se(e.name)?Object(A.jsx)("div",{},"attachment".concat(t)):Object(A.jsx)(le,{},"attachment_".concat(t))}))}(i)}),Object(A.jsxs)(w.Row,{style:{paddingRight:"2px"},className:"ce-message-bubble-row ce-my-message-bubble-row ce-my-message-sending-row",children:[Object(A.jsx)(w.Col,{xs:12,sm:12,md:12,children:c.text&&Object(A.jsx)("div",{className:"ce-message-bubble ce-my-message-bubble",style:Object(p.a)(Object(p.a)({},xe.myMessage),{borderRadius:l}),children:Object(A.jsx)(Ce,{text:c.text})})}),Object(A.jsx)(w.Col,{xs:1,sm:2,md:3})]})]})},xe={myMessage:{color:"white",cursor:"pointer",float:"right",textAlign:"left",padding:"12px",fontSize:"15px",whiteSpace:"pre-line",backgroundColor:"#40a9ff",overflowWrap:"anywhere",maxWidth:"calc(100% - 100px)"}},fe=function(e){var t=e.lastMessage,a=e.message,s=e.nextMessage,c=e.sending,r=e.chat,i=Object(n.useContext)(j.e).conn;return a&&r&&i&&null!==i?"Dan"===i.userName?null:Object(A.jsxs)("div",{className:"ce-message-and-date",children:[!c&&Object(A.jsx)(te,{lastCreated:t?t.created:null,created:a.created,offset:i.offset}),c?Object(A.jsx)(pe,{chat:r,conn:i,lastMessage:t,message:a,nextMessage:s}):Object(A.jsx)("div",{children:a.sender_username===i.userName||a.sender_username===i.senderUsername?Object(A.jsx)(Ie,{chat:r,conn:i,lastMessage:t,message:a,nextMessage:s}):Object(A.jsx)(be,{chat:r,conn:i,lastMessage:t,message:a,nextMessage:s})})]}):Object(A.jsx)("div",{})},ve=a.p+"static/media/loading.4491ef28.svg",Oe=a(252),ye=a(190),we=a(470),Ne=a(250),Se=a.n(Ne),Re=a(471),ke=function(e){var t=e.file,a=e.close,s=e.onSubmit,c=e.crop,r=void 0!==c&&c,o=e.username,g=e.userstatus,l=Object(n.useState)(""),u=Object(i.a)(l,2),d=u[0],C=u[1],I=Object(n.useRef)(),m=Object(n.useState)(o),b=Object(n.useState)(g);return Object(n.useEffect)((function(){var e=new FileReader;e.onload=function(){return C(e.result)},e.readAsDataURL(t)}),[t]),Object(A.jsxs)("div",{className:"chat-new-avatar",children:[r?Object(A.jsx)(Se.a,{ref:I,width:100,height:100,border:40,borderRadius:50,image:d}):Object(A.jsx)(Re.a,{size:"medium",src:d,alt:"preview"}),Object(A.jsxs)("div",{className:"image-upload-actions",children:[Object(A.jsx)("button",{className:"cancel",onClick:a,children:"Cancel"}),Object(A.jsx)("button",{className:"submit",onClick:function(){if(r&&I){var e=I.current.getImageScaledToCanvas().toDataURL();fetch(e).then((function(e){return e.blob()})).then((function(e){return s(e,m,b)}))}else s()},children:"Upload"})]})]})},Ue=function(e){var t=e.userstatus,a=e.onSubmit,s=Object(n.useState)(t),c=Object(i.a)(s,2),r=c[0],o=c[1];return Object(A.jsx)("div",{className:"edit-profile",children:Object(A.jsx)("form",{onSubmit:function(e){e.preventDefault(),a(r)},children:Object(A.jsx)("div",{className:"edit-name-input",children:Object(A.jsx)("input",{placeholder:"New status",value:r,onChange:function(e){return o(e.target.value)},maxLength:"20"})})})})},Le=a(480),Me=a(473),We=function(e){var t=Object(n.useContext)(j.e).conn,a=Object(n.useState)(!1),s=Object(i.a)(a,2),c=(s[0],s[1]),r=Object(n.useState)(!1),o=Object(i.a)(r,2),g=o[0],l=o[1],u=I(),d=u.userObject,C=u.convertedName,m=Object(n.useState)(e.userStatus),b=Object(i.a)(m,2),h=b[0],p=b[1];Object(n.useEffect)((function(){c(!0)}),[g]);return Object(A.jsxs)("div",{className:"chat-list-user-status",children:[g?Object(A.jsx)(Ue,{userstatus:h,close:function(){l(!1)},onSubmit:function(e){!function(e){var t=new Headers;t.append("Project-ID","4bc7cf6c-58c3-4bb6-9e49-6e1e7557b045"),t.append("User-Name",C),t.append("User-Secret",d.uid);var a=new FormData;a.append("first_name",e),fetch("https://api.chatengine.io/users/me/",{method:"PATCH",headers:t,body:a,redirect:"follow"}).then((function(){p(e)}))}(e),l(!1)}}):Object(A.jsx)(A.Fragment,{children:Object(A.jsx)("div",{className:"user-status",children:"Dan"===t.userName?"sample status":Object(A.jsx)(A.Fragment,{children:h||""})})}),g?Object(A.jsx)(Me.a,{onClick:function(){return l(!1)}}):Object(A.jsx)(Le.a,{onClick:function(){return l(!0)}})]})},Fe=function(e){var t=I(),a=t.userObject,s=t.convertedName,c=Object(n.useState)(),r=Object(i.a)(c,2),o=r[0],g=r[1],l=Object(n.useState)(),u=Object(i.a)(l,2),d=u[0],C=u[1],m=Object(n.useRef)(null),b=Object(n.useState)(),h=Object(i.a)(b,2),p=h[0],x=h[1],f=Object(n.useState)(!1),O=Object(i.a)(f,2),y=O[0],w=O[1],N=Object(n.useState)(!1),S=Object(i.a)(N,2),R=S[0],k=S[1],U=Object(n.useState)(!0),L=Object(i.a)(U,2),M=L[0],W=L[1],F=Object(n.useContext)(j.e).conn;return Object(n.useEffect)((function(){var t=new Headers;t.append("Project-ID","4bc7cf6c-58c3-4bb6-9e49-6e1e7557b045"),t.append("User-Name",e.conn.userName),t.append("User-Secret",e.conn.userSecret),fetch("https://api.chatengine.io/users/me/",{method:"GET",headers:t,redirect:"follow"}).then((function(e){return e.json()})).then((function(e){C(e.first_name),g(e.avatar),w(!0),k(!0)}))}),[y]),Object(A.jsxs)("div",{className:"chat-profile-container",children:[Object(A.jsx)("input",{type:"file",ref:m,className:"image-input",accept:"image/jpeg,image/png",onChange:function(e){var t,a,n=null===(t=e.target)||void 0===t||null===(a=t.files)||void 0===a?void 0:a[0];n&&(!function(e){x(e)}(n),W(!1))}}),!!p&&Object(A.jsx)(ke,{crop:!0,file:p,header:"Set Your Avatar",mode:"message",username:e.conn.userName,userstatus:d,onSubmit:function(e){x(e),function(){var e=new Headers;e.append("Project-ID","4bc7cf6c-58c3-4bb6-9e49-6e1e7557b045"),e.append("User-Name",s),e.append("User-Secret",a.uid);var t=new FormData;t.append("avatar",p,p.name),fetch("https://api.chatengine.io/users/me/",{method:"PATCH",headers:e,body:t,redirect:"follow"}).then((function(){w(!1),g()}))}(),x(null),W(!0)},close:function(){x(null),W(!0)}}),a.uid&&M?Object(A.jsx)("div",{className:"current-user-info",children:Object(A.jsxs)(Oe.a,{onClick:function(){if("Dan"===F.userName)return alert("Changing avatar is disabled on sample account, sorry!"),null;var e=m.current;e&&(e.value="",e.click())},className:"user-avatar",size:"large",children:[y?Object(A.jsx)(A.Fragment,{children:o?Object(A.jsx)("img",{src:o,style:{borderRadius:"50%",width:"120px"},alt:""}):Object(A.jsx)("img",{src:v,style:{borderRadius:"50%",width:"120px"},alt:""})}):Object(A.jsx)("img",{src:ve,alt:""}),Object(A.jsx)(ye.a,{corner:!0,name:"camera",inverted:!0,circular:!0})]})}):Object(A.jsx)("div",{className:"user-loading",children:Object(A.jsx)(we.a,{active:!0,size:"small"})}),p?"":Object(A.jsxs)("div",{className:"chat-profile-info",children:[Object(A.jsx)("div",{className:"current-username",children:Object(A.jsx)("div",{className:"username-border",children:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(t?e.toLowerCase():e).replace(/(?:^|\s|["'([{])+\S/g,(function(e){return e.toUpperCase()}))}(decodeURIComponent(s))})}),R?Object(A.jsx)(We,{userStatus:d}):""]})]})},De=a(481),Ee=a(482),Be=a(483),Te=a(479),Xe=a(484),ze=a.p+"static/media/chatlogo.d3d04b66.png",Ge={chatListContainer:{maxHeight:"100vh",overflow:"scroll",overflowX:"hidden",backgroundColor:"white",fontFamily:"Avenir"},chatsContainer:{width:"100%",borderRadius:"0px 0px 24px 24px"}},Ye=function(e){var t=Object(n.useRef)(!1),a=Object(n.useState)(!0),s=Object(i.a)(a,2),c=s[0],r=s[1],o=Object(n.useState)(!1),g=Object(i.a)(o,2),u=g[0],d=g[1],C=Object(n.useState)(ze),I=Object(i.a)(C,2),m=I[0],b=I[1],h=Object(n.useState)("dark"),x=Object(i.a)(h,2),v=x[0],O=x[1],y=Object(n.useContext)(j.e),w=y.conn,N=y.chats,S=y.setChats,R=y.setActiveChat,k=y.activeChat,U=N&&N[k],L=e.WhatsUpState.userName,M=e.WhatsUpState.userSecret;function W(e,t){if(!e)return"";t=t||0;var a=(e=e.replace(" ","T")).substr(0,4),n=e.substr(5,2),s=e.substr(8,2),c=e.substr(11,2),r=e.substr(14,2),i=e.substr(17,2),o=new Date("".concat(a,"-").concat(n,"-").concat(s,"T").concat(c,":").concat(r,":").concat(i));return o.setHours(o.getHours()+t),o}function D(t){return t.sort((function(t,a){var n=t.last_message&&t.last_message.created?W(t.last_message.created,e.WhatsUpState.offset):W(t.created,e.WhatsUpState.offset),s=a.last_message&&a.last_message.created?W(a.last_message.created,e.WhatsUpState.offset):W(a.created,e.WhatsUpState.offset);return new Date(s)-new Date(n)}))}function E(e){var t=null!==N?N:{},a=f.a.mapKeys(Object(p.a)({},e),"id"),n=Object(p.a)(Object(p.a)({},t),a);S(n),50>Object.keys(n).length&&r(!1)}Object(n.useEffect)((function(){var e=localStorage.getItem("theme");"light"===e?(document.querySelector(".app").classList.add("light"),b(ze)):"dark"===e?(document.querySelector(".app").classList.remove("light"),b(ze)):localStorage.setItem("theme",v)}),[v]),Object(n.useEffect)((function(){!t.current&&L&&M&&(t.current=!0,Object(j.m)(e.WhatsUpState,50,(function(e){E(e);var t=D(e);t.length>0&&R(t[0].id)})))})),Object(n.useEffect)((function(){k||B[0]&&R(B[0].id)}),[N,k]);var B=D(N?Object.values(N):[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]);return null==N?Object(A.jsx)("div",{}):Object(A.jsxs)("div",{className:"chat-left-wing",children:[Object(A.jsxs)("div",{className:"chat-bar",children:[Object(A.jsx)("div",{className:"chat-bar-logo",children:window.screen.availWidth>700?Object(A.jsx)("img",{src:m,alt:""}):Object(A.jsx)("div",{className:"mobile-toggler",children:Object(A.jsx)(Me.a,{onClick:function(){document.querySelector(".chat-container").children[0].children[1].children[0].style.display="none",document.querySelector(".chat-container").children[0].children[1].children[1].style.display="block"}})})}),Object(A.jsxs)("div",{className:"chat-bar-options",children:[Object(A.jsx)("div",{className:"chat-bar-option",children:Object(A.jsx)(De.a,{onClick:function(){u&&window.screen.availWidth>1150?(d(!u),document.querySelector(".ce-chats-container").style.height="530px"):!u&&window.screen.availWidth>1150?(d(!u),document.querySelector(".ce-chats-container").style.height="425px"):u&&window.screen.availWidth<=1150?(d(!u),document.querySelector(".ce-chats-container").style.height="calc(100vh - 76px)"):(d(!u),document.querySelector(".ce-chats-container").style.height="calc(100vh - 166px)")}})}),Object(A.jsx)("div",{className:"chat-bar-option",children:Object(A.jsx)(Ee.a,{onClick:function(){var e=localStorage.getItem("theme");"dark"===e?(O("light"),localStorage.setItem("theme","light"),document.querySelector(".app").classList.add("light"),b(ze)):"light"===e&&(O("dark"),localStorage.setItem("theme","dark"),document.querySelector(".app").classList.remove("light"),b(ze))}})}),Object(A.jsx)("div",{className:"chat-bar-option",children:Object(A.jsx)("a",{href:"https://github.com/dclif/WhatsUp",target:"_blank",children:Object(A.jsx)(Be.a,{})})}),Object(A.jsx)("div",{className:"chat-bar-option",children:Object(A.jsx)(Te.a,{onClick:function(){"Dan"!==L?window.confirm("Press OK if you want to delete active chat. Conversation with this person will be lost")&&function(e){var t=new Headers,a=U.people.find((function(e){return e.person.username!==L}))?U.people.find((function(e){return e.person.username!==L})):U.people.find((function(e){return e.person.username===L}));t.append("Project-ID","4bc7cf6c-58c3-4bb6-9e49-6e1e7557b045"),t.append("User-Name",L),t.append("User-Secret",M);var n={method:"DELETE",headers:t,body:'{"username": "'.concat(L,'"}'),redirect:"follow"},s={method:"DELETE",headers:t,body:'{"username": "'.concat(a.person.username,'"}'),redirect:"follow"};fetch("https://api.chatengine.io/chats/".concat(e,"/people/"),n).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)})),fetch("https://api.chatengine.io/chats/".concat(e,"/people/"),s).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)}))}(k):alert("Deleting conversations is disabled on sample account, sorry!")}})}),Object(A.jsxs)("div",{className:"chat-bar-option",children:[" ",Object(A.jsx)(Xe.a,{onClick:function(){window.confirm("Press OK if you want to logout")&&(l.auth.signOut().then(console.log("logged out")),document.querySelector(".app").classList.remove("light"))}})]})]})]}),Object(A.jsxs)("div",{className:"chat-left-wing-list",children:[u?Object(A.jsx)(Fe,{chat:U,conn:w,name:e.WhatsUpState.userName,secret:e.WhatsUpState.userSecret}):"",Object(A.jsxs)("div",{style:Ge.chatListContainer,className:"ce-chat-list",children:[e.WhatsUpState.renderNewChatForm?e.WhatsUpState.renderNewChatForm(w):Object(A.jsx)(F,{onClose:e.WhatsUpState.onClose?function(){return e.WhatsUpState.onClose()}:void 0}),Object(A.jsxs)("div",{style:Ge.chatsContainer,className:"ce-chats-container",children:[function(t){return t.map((function(t,a){return t?e.WhatsUpState.renderChatCard?Object(A.jsx)("div",{children:e.WhatsUpState.renderChatCard(t,a)},"chat_".concat(a)):"":Object(A.jsx)("div",{},"chat_".concat(a))}))}(B),c&&B.length>0&&Object(A.jsx)("div",{children:Object(A.jsx)("div",{style:{height:"8px"}})})]})]})]})]})},Ze=function(){var e=I(),t=e.userObject,a=e.convertedName,s=Object(n.useState)(!1),c=Object(i.a)(s,2),r=c[0],o=c[1],g=Object(n.useState)("630px"),l=Object(i.a)(g,2),u=l[0],d=l[1];return Object(n.useEffect)((function(){window.screen.width<1150&&d("100vh")}),[]),Object(n.useEffect)((function(){var e={method:"post",url:"https://api.chatengine.io/users/",headers:{"PRIVATE-KEY":"6359afcd-8e17-4548-af8b-c325fd81408e"},data:{username:a,secret:t.uid}};M()(e).then((function(){!function(e){var n=new Headers;n.append("Project-ID","4bc7cf6c-58c3-4bb6-9e49-6e1e7557b045"),n.append("User-Name",a),n.append("User-Secret",t.uid),n.append("Content-Type","application/json");var s=JSON.stringify({is_direct_chat:!0,usernames:[a,e]});fetch("https://api.chatengine.io/chats/",{method:"PUT",headers:n,body:s,redirect:"follow",contentType:"application/json; charset=utf-8"}).then((function(e){return e.text()})).catch((function(e){return console.log("error",e)}))}(encodeURIComponent("sample account")),o(!0)})).catch((function(){console.log("This account is already created"),o(!0)}))}),[]),Object(A.jsx)("div",{className:"chat-container",children:a&&t&&r?Object(A.jsx)(j.d,{offset:2,projectID:"4bc7cf6c-58c3-4bb6-9e49-6e1e7557b045",userName:a,userSecret:t.uid,height:u,renderChatList:function(e){return Object(A.jsx)(Ye,{WhatsUpState:e})},renderChatCard:function(e,t){return Object(A.jsx)(y,{chat:e,index:t})},renderNewChatForm:function(e){return Object(A.jsx)(F,{creds:e})},renderChatHeader:function(e){return Object(A.jsx)(S,{creds:e})},renderIsTyping:function(e){return Object(A.jsx)(k,{typers:e})},renderChatSettings:function(){return Object(A.jsx)(U,{})},renderNewMessageForm:function(e,t){return Object(A.jsx)(q,{creds:e,chatId:t})},renderMessageBubble:function(e,t,a,n,s){return Object(A.jsx)(fe,{creds:e,chat:t,lastMessage:a,message:n,nextMessage:s})}}):Object(A.jsx)("div",{className:"loading-image main-loader",children:Object(A.jsx)("img",{src:ve,alt:""})})})},He=a(47),Pe=a(56),Je={userName:"",password:""},Ke=Pe.a().shape({userName:Pe.c().required("Required").min(3,"Must be at leat 3 characters"),password:Pe.c().required("Required")}),qe=a(485),Ve=a(486),Qe=a(487),_e=a(488),$e=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],s=t[1],c=Object(o.f)(),r=Object(n.useState)(!1),g=Object(i.a)(r,2),C=g[0],I=g[1];var m=function(e,t){var a,n=e.userName,c=e.password;t.setSubmitting;I(!0),l.auth.signInWithEmailAndPassword("".concat(encodeURIComponent((a=n,a.toLowerCase())),"@chat.engine"),c).then((function(e){e.user||s("We're having trouble logging you in. Please try again.")})).catch((function(e){console.log(e),"auth/wrong-password"===e.code?s("Username or password is invalid"):"auth/user-not-found"===e.code?s("No account for this username"):s("Something went wrong :(")})).finally((function(){I(!1)}))};return Object(A.jsxs)("div",{className:"auth-form",children:[Object(A.jsxs)("div",{className:"logo",children:[Object(A.jsx)(qe.a,{}),Object(A.jsxs)("div",{className:"logo-text",children:[Object(A.jsx)("div",{className:"logo-text-first",children:"  Whats"}),Object(A.jsx)("div",{className:"logo-text-second",children:"     Up"})]})]}),Object(A.jsx)(He.d,{onSubmit:m,validateOnMount:!0,initialValues:Je,validationSchema:Ke,children:function(e){e.isValid,e.isSubmitting;return Object(A.jsxs)(He.c,{children:[Object(A.jsxs)("div",{className:"login-fields",children:[Object(A.jsxs)("div",{className:"login-field",children:[Object(A.jsx)(De.a,{}),Object(A.jsx)(nt,{name:"userName",placeholder:"Username"})]}),Object(A.jsx)(He.a,{component:"div",name:"userName",className:"error"})," ",Object(A.jsx)("br",{}),Object(A.jsxs)("div",{className:"login-field",children:[Object(A.jsx)(Ve.a,{}),Object(A.jsx)(nt,{name:"password",placeholder:"Password",type:"password"})]}),Object(A.jsx)(He.a,{component:"div",name:"password",className:"error"})]}),Object(A.jsxs)("div",{className:"auth-link-container",children:["Don't have an account?"," ",Object(A.jsx)("span",{className:"auth-link signup-text",onClick:function(){return c.push("signup")},children:"Sign Up!"})]}),C?Object(A.jsx)("div",{className:"loading-image",children:Object(A.jsx)("img",{src:ve,alt:""})}):Object(A.jsxs)("div",{className:"login-buttons",children:[Object(A.jsx)("button",{type:"submit",children:"Login"}),Object(A.jsx)("button",{className:"sample-account-button",onClick:function(){m({userName:"Dan",password:"password123"},{setSubmitting:!0})},children:"Sample Account"})]}),!!a&&Object(A.jsx)("div",{className:"error server-error",children:a})]})}}),Object(A.jsxs)("div",{className:"social-media",children:[Object(A.jsxs)("div",{className:"social-media-header",children:[Object(A.jsx)("hr",{})," Login with social media",Object(A.jsx)("hr",{})]}),Object(A.jsxs)("div",{className:"social-login",children:[Object(A.jsxs)("div",{className:"google",onClick:function(){return l.auth.signInWithRedirect(u)},children:[Object(A.jsx)(Qe.a,{})," Google"]}),Object(A.jsxs)("div",{className:"google",onClick:function(){return l.auth.signInWithRedirect(d)},children:[Object(A.jsx)(_e.a,{})," Facebook"]})]})]})]})},et={password:"",userName:"",verifyPassword:""},tt=Pe.a().shape({password:Pe.c().required("Required").min(8,"Must be at least 8 characters"),verifyPassword:Pe.c().required("Required").oneOf([Pe.b("password"),null],"Password must match"),userName:Pe.c().required("Required").matches("^[A-Za-z0-9 ]*[A-Za-z0-9][A-Za-z0-9 ]*$","Please use letters or numbers").min(3,"Must be at least 3 characters").max(20,"You have reached limit of characters")}),at=function(){var e=Object(o.f)(),t=Object(n.useState)(""),a=Object(i.a)(t,2),s=a[0],c=a[1],r=Object(n.useState)(!1),g=Object(i.a)(r,2),u=g[0],d=g[1];return Object(A.jsxs)("div",{className:"auth-form signup-fields",children:[Object(A.jsxs)("div",{className:"logo",children:[Object(A.jsx)(qe.a,{}),Object(A.jsxs)("div",{className:"logo-text",children:[Object(A.jsx)("div",{className:"logo-text-first",children:"  Whats"}),Object(A.jsx)("div",{className:"logo-text-second",children:"     Up"})]})]}),Object(A.jsx)(He.d,{onSubmit:function(e,t){var a,n=e.userName,s=e.password,r=t.setSubmitting;d(!0),l.auth.createUserWithEmailAndPassword("".concat(encodeURIComponent((a=n,a.toLowerCase())),"@chat.engine"),s).then((function(e){console.log("Firebase account created")})).catch((function(e){"auth/email-already-in-use"===e.code?c("An account with this username already exists"):c("We're having trouble signing you up. Please try again.")})).finally((function(){r(!1),d(!1)}))},validateOnMount:!0,initialValues:et,validationSchema:tt,children:function(t){t.isValid,t.isSubmitting;return Object(A.jsxs)(He.c,{children:[Object(A.jsxs)("div",{className:"login-fields ",children:[Object(A.jsxs)("div",{className:"login-field",children:[Object(A.jsx)(De.a,{}),Object(A.jsx)(nt,{name:"userName",placeholder:"Username"})]}),Object(A.jsx)(He.a,{component:"div",name:"userName",className:"error"}),Object(A.jsxs)("div",{className:"login-field",children:[Object(A.jsx)(Ve.a,{}),Object(A.jsx)(nt,{name:"password",type:"password",placeholder:"Password"})]}),Object(A.jsx)(He.a,{component:"div",name:"password",className:"error"}),Object(A.jsxs)("div",{className:"login-field",children:[Object(A.jsx)(Ve.a,{}),Object(A.jsx)(nt,{name:"verifyPassword",placeholder:"Verify Password",type:"password"})]}),Object(A.jsx)(He.a,{component:"div",name:"verifyPassword",className:"error"})]}),u?Object(A.jsx)("div",{className:"loading-image",children:Object(A.jsx)("img",{src:ve,alt:""})}):Object(A.jsx)("button",{type:"submit",children:"Sign Up"}),Object(A.jsxs)("div",{className:"auth-link-container already-account",children:["Already have an account?"," ",Object(A.jsx)("span",{className:"auth-link signup-text",onClick:function(){return e.push("whatsup")},children:"Log In!"})]})]})}}),!!s&&Object(A.jsx)("div",{className:"error",children:s})]})},nt=function(e){var t=e.name,a=e.type,n=void 0===a?"text":a,s=e.placeholder;return Object(A.jsx)("label",{children:Object(A.jsx)(He.b,{name:t,type:n,placeholder:s,maxLength:20})})};r.a.render(Object(A.jsx)(s.a.StrictMode,{children:Object(A.jsx)(h,{})}),document.getElementById("root"))}},[[456,1,2]]]);
//# sourceMappingURL=main.d94b1334.chunk.js.map